{"version":3,"sources":["components/Popup/Popup.module.css","App.module.css","ExternalConfigurationHandler.js","components/MapContainer/MapContainer.module.css","store/actions/actionTypes.js","components/LoaderAlt/LoaderAlt.module.css","components/ContextMenu/ContextMenu.module.css","components/Video/Video.module.css","components/GlobalMessage/GlobalMessage.module.css","components/Clock/Clock.module.css","components/OutputTabs/OutputTabs.module.css","components/Error/Error.module.css","components/MapContainer/MapContainer.js","config.js","assets/images/newLogo.svg","components/LoaderAlt/LoaderAlt.js","components/Clock/Clock.js","assets/images/close.svg","components/Popup/Popup.js","components/OutputTabs/OutputTabs.js","utils/imageUtils.js","rosWebsocket.js","services/index.js","store/actions/videoActions.js","store/actions/layoutActions.js","store/actions/index.js","components/Video/Video.js","components/ActionButtons/ActionButtons.js","assets/images/infoFull.svg","assets/images/success.svg","assets/images/errorIcon.svg","assets/images/warnIcon.svg","components/GlobalMessage/GlobalMessage.js","components/ContextMenu/ContextMenu.js","App.js","store/reducers/mapReducer.js","store/reducers/videoReducer.js","store/reducers/outputReducer.js","store/reducers/layoutReducer.js","store/reducers/index.js","store/interceptor.js","index.js","components/ActionButtons/ActionButtons.module.css"],"names":["module","exports","ExternalConfigurationHandler","externalConfigurationHandler","configuration","this","actionTypes","PAUSE_VIDEO","RESUME_VIDEO","LOACTE_START","LOACTE_SUCCESS","LOACTE_FAILED","RESET_START","RESET_SUCCESS","RESET_FAILED","TAKE_OFF_START","TAKE_OFF_SUCCESS","TAKE_OFF_FAILED","POINT_ON_VIDEO_IMAGE_START","POINT_ON_VIDEO_IMAGE_SUCCESS","POINT_ON_VIDEO_IMAGE_FAILED","ROSS_WEBSOCKET_CONNECTION_SUCCESS","ROSS_WEBSOCKET_CONNECTION_FAILED","ROSS_WEBSOCKET_CONNECTION_CLOSED","ROSS_WEBSOCKET_CONNECTION_START","SHOW_GLOBAL_MESSAGE","REMOVE_GLOBAL_MESSAGE","SHOW_CONTEXT_MENU","CLOSE_CONTEXT_MENU","SET_MAPCORE_SDK_LOADED_FLAG","SLayerGroup","coordSystemString","bShowGeoInMetricProportion","bSetTerrainBoxByStaticLayerOnly","InitialScale2D","aLayerCreateStrings","SViewportData","_viewport","_editMode","viewport","editMode","canvas","GetWindowHandle","aViewportTerrains","GetTerrains","aLayers","length","GetLayers","terrainBox","terrainCenter","rotationCenter","bCameraPositionSet","MapContainer","state","mapLayerGroups","Map","lastTerrainConfiguration","lastViewportConfiguration","bSameCanvas","mapTerrains","device","viewportData","uCameraUpdateCounter","aLastTerrainLayers","lastCoordSys","overlayManager","activeViewport","aViewports","lastRenderTime","Date","getTime","lastMemUsageLogTime","uMemUsageLoggingFrequency","nMousePrevX","nMousePrevY","mouseDownButtons","bEdit","layerCallback","renderMapContinuously","trySetTerainBox","currtRenderTime","Render","window","MapCore","IMcMapViewport","RenderAll","doMoveObjects","IMcMapDevice","GetMaxMemoryUsage","console","log","toLocaleString","GetHeapSize","requestAnimationFrame","resizeCanvases","CanvasesInRow","Math","ceil","sqrt","width","document","getElementById","getBoundingClientRect","height","i","ViewportResized","mouseWheelHandler","e","bHandled","wheelDelta","deltaY","OnMouseEvent","IMcEditMode","EMouseEvent","EME_MOUSE_WHEEL","SMcPoint","ctrlKey","Value","factor","shiftKey","GetMapType","IMcMapCamera","EMapType","EMT_3D","MoveCameraRelativeToOrientation","SMcVector3D","fScale","GetCameraScale","SetCameraScale","GetDtmVisualization","doDtmVisualization","preventDefault","cancelBubble","stopPropagation","mouseMoveHandler","target","EventPixel","offsetX","offsetY","buttons","EME_MOUSE_MOVED_BUTTON_DOWN","EME_MOUSE_MOVED_BUTTON_UP","x","y","RotateCameraRelativeToOrientation","SetCameraOrientation","FLT_MAX","ScrollCamera","mouseDownHandler","IsEditingActive","updateActiveViewport","EME_BUTTON_PRESSED","mouseUpHandler","EME_BUTTON_RELEASED","mouseDblClickHandler","aTargets","ScanInGeometry","SMcScanPointGeometry","EMcPointCoordSystem","EPCS_SCREEN","eTargetType","IMcSpatialQueries","EIntersectionTargetType","EITT_OVERLAY_MANAGER_OBJECT","StartEditObject","ObjectItemData","pObject","pItem","EME_BUTTON_DOUBLE_CLICK","onMoreActionsClick","props","showContextMenu","nativeEvent","name","iconCss","addEventListener","removeEventListener","prevProps","isMapCoreSDKLoaded","openMap","externalConfig","getConfiguration","streamingLayers","groupName","jsonLayerGroups","jsonGroup","coordSystemType","coordSystemParams","layerGroup","showGeoInMetricProportion","centerByStaticObjectsLayerOnly","layers","layer","layerCreateString","type","path","params","alert","push","undefined","setState","set","wmtsServerURL","xmlDoc","capabilitiesURL","bMapCoreLayerServer","wmtsAdditionalLayerGroup","CXmlNode","node","tagName","children","getElementsByTagName","child","parentNode","textContent","attributeName","attributes","getNamedItem","value","aNodes","aTexts","capabilities","GetFirstChild","MapLayerServerURL","GetFirstChildAttribute","lastSlashIndex","lastIndexOf","TrimmedMapLayerServerURL","substring","contents","aTileMatrixSets","GetChildren","mapTileMatrixSets","matrixSet","id","GetFirstChildText","crs","coordSystem","tileMatrixSet","layerID","context","mapToPreview","config","nodesLevel","data","LayerId","dtmLayerId","aFormats","GetChildrenTexts","aTileMatrixSetLinks","tileMatrixSetLink","tileMatrixSetParams","get","tileMatrixSetFilter","boundingBox","prefix","indexOf","replace","aGroups","split","group","concat","CLayerReadCallback","IMcMapLayer","IReadCallback","extend","OnInitialized","pLayer","eStatus","strAdditionalDataString","IMcErrors","ECode","SUCCESS","GetLayerType","IMcNativeStaticObjectsMapLayer","LAYER_TYPE","IsBuiltOfContoursExtrusion","SetDisplayingItemsAttachedToTerrain","SetDisplayingDtmVisualization","NATIVE_SERVER_LAYER_NOT_VALID","ErrorCodeToString","OnReadError","eErrorCode","OnNativeServerLayerNotValid","bLayerVersionUpdated","OnRemoved","OnReplaced","pOldLayer","pNewLayer","Release","delete","CCameraUpdateCallback","ICameraUpdateCallback","OnActiveCameraUpdated","pViewport","CAsyncQueryCallback","IAsyncQueryCallback","__construct","__parent","call","OnTerrainHeightResults","bHeightFound","normal","z","SetCameraPosition","OnTerrainHeightMatrixResults","uNumHorizontalPoints","uNumVerticalPoints","adHeightMatrix","OnTerrainHeightsAlongLineResults","aPointsWithHeights","aSlopes","pSlopesData","OnExtremeHeightPointsInPolygonResults","bPointsFound","pHighestPoint","pLowestPoint","OnTerrainAnglesResults","dPitch","dRoll","OnLineOfSightResults","aPoints","dCrestClearanceAngle","dCrestClearanceDistance","OnPointVisibilityResults","bIsTargetVisible","pdMinimalTargetHeightForVisibility","pdMinimalScouterHeightForVisibility","OnAreaOfSightResults","pAreaOfSight","aLinesOfSight","pSeenPolygons","pUnseenPolygons","aSeenStaticObjects","OnLocationFromTwoDistancesAndAzimuthResults","Target","OnError","CUserData","IMcUserData","bToBeDeleted","__destruct","Clone","j","aViewportLayers","SMcBox","DBL_MAX","IsInitialized","layerBox","GetBoundingBox","MinVertex","MaxVertex","EMT_2D","SQueryParams","eTerrainPrecision","EQueryPrecision","EQP_HIGH","pAsyncQueryCallback","GetTerrainHeight","minHeight","maxHeight","fp","GetCameraFootprint","bUpperLeftFound","bUpperRightFound","bLowerRightFound","bLowerLeftFound","minPoint","maxPoint","GetExtremeHeightPointsInPolygon","UpperLeft","UpperRight","LowerRight","LowerLeft","SetDtmVisualization","result","calcMinMaxHeights","DtmVisualization","SDtmVisualizationParams","SetDefaultHeightColors","bDtmVisualizationAboveRaster","uHeightColorsTransparency","uShadingTransparency","terrain","eMapTypeToOpen","currCanvas","createElement","vpCreateData","SCreateData","pDevice","pCoordinateSystem","GetCoordinateSystem","GetCoordinateSystemDefinition","pOverlayManager","hWnd","Create","callback","AddCameraUpdateCallback","SetScreenSizeTerrainObjectsFactor","SetCameraRelativeHeightLimits","SetStaticObjectsVisibilityMaxScale","SetBackgroundColor","SMcBColor","SetObjectsDelay","EObjectDelayType","EODT_VIEWPORT_CHANGE_OBJECT_UPDATE","EODT_VIEWPORT_CHANGE_OBJECT_CONDITION","EODT_VIEWPORT_CHANGE_OBJECT_SIZE","EODT_VIEWPORT_CHANGE_OBJECT_HEIGHT","SetObjectsMovementThreshold","SetTerrainNumCacheTiles","appendChild","IMcMapTerrain","AddRef","IMcGridUTM","IMcGridCoordinateSystem","EDatumType","EDT_ED50_ISRAEL","IMcOverlayManager","overlay","IMcOverlay","createViewport","DoPrevViewport","doPrevViewport","eval","initializeViewports","title","is3d","serverUrl","MAPCORE_LAYER_SERVER_URL","axios","urls","getCapabilities","response","capabilitiesXMLDoc","DOMParser","parseFromString","parseCapabilitiesXML","parseLayersConfiguration","forEach","key","init","SInitParams","uNumTerrainTileRenderTargets","createCallbackClasses","createMapLayersAndViewports","Destroy","removeChild","splice","clear","className","cn","LoadingMessage","label","DescRow","DescLabel","DescValue","MapToolbox","Description","MoreActionsBtn","onClick","CanvasContainer","renderMapToolbox","Wrapper","getCanvas","renderLoadingMessage","PureComponent","mapStateToProps","map","mapDispachToProps","dispatch","items","payload","connect","logSeverities","success","info","warn","error","stream","snapshot","Loader","withOverlay","classNames","Overlay","renderOverlay","loader","data-message","loadingMessage","bg","circle","Clock","date","setInterval","year","getFullYear","month","day","getDate","DateTime","getFormatedData","Hour","toLocaleTimeString","navigator","language","hour12","OutputTabs","Tabs","Component","getBase64Image","img","crossOrigin","getContext","drawImage","toDataURL","rosWebSocket","store","ROS_BE_PROTOCOL","BE_IP","ROS_BE_PORT","url","text","actions","showGlobalMessage","ROSLIB","Ros","on","isRemoved","pointingFingerEncode","Service","ros","getRosWebsocketObject","serviceType","pointingFingerLocate","pointingFingerReset","seekerReset","seekerTakeoff","locate","a","dataX","imageMessage","Message","format","requestLocate","ServiceRequest","image","services","callService","isSuccess","pointVideoImage","ev","pointMessage","pageX","offsetLeft","pageY","offsetTop","requestEncode","point","reset","requestReset","takeoff","requestTakeoff","setTimeout","actionCreators","output","video","layout","Video","isImageLoadingError","onVideoError","BE_PORT","snapshotUrl","streamUrl","isPaused","ErrorMessage","ErrorIcon","onError","VideoImage","src","getVideoSrc","renderImgElement","ActionButtons","pauseOrResume","resume","pause","PlayIcon","PauseIcon","isHiddenClass","isRosWebsocketConncted","Hidden","Button","Icon","LocateIcon","getPauseIcon","ResetIcon","TakeoffIcon","restart","GlobalMessage","icon","appGlobalMessage","infoIcon","successIcon","warnIcon","errorIcon","Text","notification","renderIcon","renderText","renderNotification","ContextMenu","CONTEXT_MENU_WIDTH","contextRef","React","createRef","top","left","menuItems","closeContextMenu","current","contains","onItemClick","menuItem","func","task","updatePosition","contextMenu","menuHight","body","offsetHeight","getNewTop","offsetWidth","closeClass","Close","index","ContextMenuIcon","style","ref","contextMenuUL","App","closeErrorPopup","generalErrorMessage","SetStartCallbackFunction","setMapCoreSDKLoadedFlag","AppHeader","logo","alt","RightHeader","getClock","RightPaneWrapper","RightPaneWrapperItem","MainContentWrapper","Split","Left","getMainLeftPane","Right","getMainRightPane","isLoading","getActionButtons","getGeneralErrorPopup","getMainHeader","getMainContent","initialState","mapReducer","action","videoReducer","outputReducer","TOGGLE_SIDE_BAR","toasts","filter","t","alwaysOnTop","layoutReducer","rootReducer","combineReducers","initInterceptor","interceptors","use","err","isCancel","Promise","reject","errorMessage","errMsg","ReactDOM","render","StrictMode","then","res","setConfiguration","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","createStore","applyMiddleware","reduxThunk","rosWebsocketInstance","register","renderAplication","catch"],"mappings":"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","file":"static/js/main.e7e867f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"h2\":\"Popup_h2__sBm9G\",\"Overlay\":\"Popup_Overlay__Lz1tD\",\"Popup\":\"Popup_Popup__1O31A\",\"PopupHeaderWrapper\":\"Popup_PopupHeaderWrapper__2-ikc\",\"PopupBody\":\"Popup_PopupBody__1kaHU\",\"NoBodyOverFlow\":\"Popup_NoBodyOverFlow__stG_q\",\"PopupFooter\":\"Popup_PopupFooter__2ofpz\",\"closeBtn\":\"Popup_closeBtn__30DBN\",\"FormButton\":\"Popup_FormButton__32S7X\",\"Apply\":\"Popup_Apply__1uDlX\",\"small\":\"Popup_small__3mJFK\",\"medium\":\"Popup_medium__3X6Sz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2MYUV\",\"AppHeader\":\"App_AppHeader__1xvWo\",\"ActionsBar\":\"App_ActionsBar__1-3sb\",\"ActionButtons\":\"App_ActionButtons__2XLp0\",\"HeaderElementWrapper\":\"App_HeaderElementWrapper__3Ln3v\",\"ExportBtn\":\"App_ExportBtn__1_50o\",\"Disabled\":\"App_Disabled__167iO\",\"MainContentWrapper\":\"App_MainContentWrapper__iWHEE\",\"Split\":\"App_Split__2AQzf\",\"Left\":\"App_Left__11yLJ\",\"Right\":\"App_Right__3odZu\",\"FileInput\":\"App_FileInput__yXj1g\",\"RightHeader\":\"App_RightHeader__lBHCr\",\"RightPaneWrapper\":\"App_RightPaneWrapper__GdZ8C\",\"RightPaneWrapperItem\":\"App_RightPaneWrapperItem__3hpNT\"};","class ExternalConfigurationHandler {\r\n\r\n    externalConfigurationHandler = null;\r\n    \r\n    setConfiguration(configuration) {\r\n        this.externalConfigurationHandler = configuration;\r\n    }\r\n\r\n    getConfiguration() {\r\n        return this.externalConfigurationHandler;\r\n    }\r\n}\r\n\r\nexport default new ExternalConfigurationHandler();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"MapContainer_Wrapper__27nRY\",\"LoadingMessage\":\"MapContainer_LoadingMessage__1xCqh\",\"CanvasContainer\":\"MapContainer_CanvasContainer__20Pvi\",\"MapToolbox\":\"MapContainer_MapToolbox__3Rx7F\",\"Active\":\"MapContainer_Active__2ss1F\",\"DescRow\":\"MapContainer_DescRow__27Z_D\",\"DescValue\":\"MapContainer_DescValue__3qrq3\",\"DescLabel\":\"MapContainer_DescLabel__1TYDX\",\"Description\":\"MapContainer_Description__1R00O\",\"MoreActionsBtn\":\"MapContainer_MoreActionsBtn__1Cfu0\"};","const actionTypes = {\r\n\t/* Video */\r\n\tPAUSE_VIDEO: 'PAUSE_VIDEO',\r\n\tRESUME_VIDEO: 'RESUME_VIDEO',\r\n\r\n\tLOACTE_START: 'LOACTE_START',\r\n\tLOACTE_SUCCESS: 'LOACTE_SUCCESS',\r\n\tLOACTE_FAILED: 'LOACTE_FAILED',\r\n\r\n\tRESET_START: 'RESET_START',\r\n\tRESET_SUCCESS: 'RESET_SUCCESS',\r\n\tRESET_FAILED: 'RESET_FAILED',\r\n\r\n\tTAKE_OFF_START: 'TAKE_OFF_START',\r\n\tTAKE_OFF_SUCCESS: 'TAKE_OFF_SUCCESS',\r\n\tTAKE_OFF_FAILED: 'TAKE_OFF_FAILED',\r\n\r\n\tPOINT_ON_VIDEO_IMAGE_START: 'POINT_ON_VIDEO_IMAGE_START',\r\n\tPOINT_ON_VIDEO_IMAGE_SUCCESS: 'POINT_ON_VIDEO_IMAGE_SUCCESS',\r\n\tPOINT_ON_VIDEO_IMAGE_FAILED: 'POINT_ON_VIDEO_IMAGE_FAILED',\r\n\r\n\tROSS_WEBSOCKET_CONNECTION_SUCCESS: 'ROSS_WEBSOCKET_CONNECTION_SUCCESS',\r\n\tROSS_WEBSOCKET_CONNECTION_FAILED: 'ROSS_WEBSOCKET_CONNECTION_FAILED',\r\n\tROSS_WEBSOCKET_CONNECTION_CLOSED: 'ROSS_WEBSOCKET_CONNECTION_CLOSED',\r\n\tROSS_WEBSOCKET_CONNECTION_START: 'ROSS_WEBSOCKET_CONNECTION_START',\r\n\r\n\t/* UI */\r\n\tSHOW_GLOBAL_MESSAGE: 'SHOW_GLOBAL_MESSAGE',\r\n\tREMOVE_GLOBAL_MESSAGE: 'REMOVE_GLOBAL_MESSAGE',\r\n\tSHOW_CONTEXT_MENU: 'SHOW_CONTEXT_MENU',\r\n\tCLOSE_CONTEXT_MENU: 'CLOSE_CONTEXT_MENU',\r\n\r\n\t/* Map */\r\n\tSET_MAPCORE_SDK_LOADED_FLAG:'SET_MAPCORE_SDK_LOADED_FLAG'\r\n\t\r\n};\r\nexport default actionTypes;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"LoaderAlt_Overlay__LWfL-\",\"loader\":\"LoaderAlt_loader__KVfO9\",\"circle\":\"LoaderAlt_circle__UO9vV\",\"orbit\":\"LoaderAlt_orbit__3_lP3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contextMenu\":\"ContextMenu_contextMenu__MMd4N\",\"contextMenuUL\":\"ContextMenu_contextMenuUL__3Yh4L\",\"Close\":\"ContextMenu_Close__1BtwG\",\"menuItem\":\"ContextMenu_menuItem__3HJ_U\",\"ContextMenuIcon\":\"ContextMenu_ContextMenuIcon__3-yE-\",\"Run\":\"ContextMenu_Run__2Su03\",\"Refresh\":\"ContextMenu_Refresh__1u6ax\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Video_Wrapper__3_xdH\",\"VideoImage\":\"Video_VideoImage___DQkT\",\"ErrorIcon\":\"Video_ErrorIcon__1NO6w\",\"ErrorMessage\":\"Video_ErrorMessage__27FPM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"GlobalMessage_Wrapper__3NoLn\",\"Icon\":\"GlobalMessage_Icon__3y1Zz\",\"Text\":\"GlobalMessage_Text__idHn3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DateTime\":\"Clock_DateTime__12uDK\",\"Hour\":\"Clock_Hour__2Hud3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"OutputTabs_Wrapper__3h3zv\",\"Tabs\":\"OutputTabs_Tabs__1CsMR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Error_Wrapper__3jA9K\"};","import React, { PureComponent, Component } from 'react';\r\nimport cn from './MapContainer.module.css';\r\nimport axios from 'axios';\r\nimport config from '../../config'; \r\nimport { connect } from 'react-redux';\r\nimport externalConfig from '../../ExternalConfigurationHandler';\r\nimport actionTypes from '../../store/actions/actionTypes';\r\n\r\nclass SLayerGroup\r\n{\r\n    constructor(coordSystemString, bShowGeoInMetricProportion, bSetTerrainBoxByStaticLayerOnly, InitialScale2D)\r\n    {\r\n        this.aLayerCreateStrings = [];\r\n        this.coordSystemString = coordSystemString;\r\n        this.bShowGeoInMetricProportion = bShowGeoInMetricProportion;\r\n        this.bSetTerrainBoxByStaticLayerOnly = bSetTerrainBoxByStaticLayerOnly;\r\n        this.InitialScale2D = InitialScale2D;        \r\n    }\r\n}\r\n\r\nclass SViewportData {\r\n    constructor(_viewport, _editMode) {\r\n        this.viewport = _viewport;\r\n        this.editMode = _editMode;\r\n        this.canvas = _viewport.GetWindowHandle();\r\n        let aViewportTerrains = _viewport.GetTerrains();\r\n        this.aLayers = (aViewportTerrains != null && aViewportTerrains.length > 0 ? aViewportTerrains[0].GetLayers() : null);\r\n        this.terrainBox = null;\r\n        this.terrainCenter = null;\r\n        this.rotationCenter = null;\r\n        this.bCameraPositionSet = false;\r\n        this.bSetTerrainBoxByStaticLayerOnly = false;\r\n    }\r\n}\r\n\r\nclass MapContainer extends PureComponent {\r\n\r\n    state = {\r\n        mapLayerGroups: new Map(),\r\n        lastTerrainConfiguration: null,\r\n        lastViewportConfiguration: null /*  2D/3D, 3D/2D, 2D, 3D */,\r\n        bSameCanvas: true\r\n    }\r\n\r\n    mapTerrains = new Map;\r\n    device = null\r\n    //callbacks classes from mapCore\r\n    CLayerReadCallback;\r\n    CCameraUpdateCallback;\r\n    CAsyncQueryCallback;    \r\n    viewportData = null;\r\n    uCameraUpdateCounter = 0;\r\n    aLastTerrainLayers = [];\r\n    lastCoordSys = null;\r\n    overlayManager = null;\r\n    activeViewport = -1;\r\n    aViewports = [];\r\n    viewport;\r\n    editMode;\r\n    lastRenderTime = (new Date).getTime();\r\n    lastMemUsageLogTime = (new Date).getTime();\r\n    uMemUsageLoggingFrequency = 0;\r\n    nMousePrevX = 0;\r\n    nMousePrevY = 0;\r\n    mouseDownButtons = 0;\r\n    bEdit = false;\r\n    layerCallback = null;\r\n\r\n    componentDidMount() {\r\n        window.addEventListener('resize', this.resizeCanvases);\r\n        //this.callGetCapabilitiesApi();\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        //Todo -> un-register events and all the map core object\r\n        window.removeEventListener('resize', this.resizeCanvases)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (!prevProps.isMapCoreSDKLoaded && this.props.isMapCoreSDKLoaded) {\r\n            this.openMap(externalConfig.getConfiguration().streamingLayers[0].groupName, false);\r\n        }\r\n    }\r\n\r\n    parseLayersConfiguration(jsonLayerGroups) {\r\n    try {\r\n        for (let jsonGroup of jsonLayerGroups)\r\n        {\r\n            // coordinate system creation string: MapCore.IMcGridCoordSystemGeographic.Create(MapCore.IMcGridCoordinateSystem.EDatumType.EDT_WGS84) etc.\r\n            let coordSystemString = \"MapCore.\" + jsonGroup.coordSystemType + \".Create(\" + jsonGroup.coordSystemParams + \")\";\r\n            let layerGroup = new SLayerGroup(coordSystemString, jsonGroup.showGeoInMetricProportion, jsonGroup.centerByStaticObjectsLayerOnly, jsonGroup.InitialScale2D);\r\n\r\n            if (jsonGroup.layers) {\r\n                for (let layer of jsonGroup.layers) {\r\n                    let layerCreateString = null;\r\n                    switch (layer.type) {\r\n                        case \"WMSRaster\":\r\n                            // WMS raster layer creation string: CreateWMSRasterLayer('http://wmtsserver/wmts?request=GetCapabilities', 'layer', 'EPSG:4326', 'jpeg') etc.\r\n                            layerCreateString = \"Create\" + layer.type + \"Layer('\" + layer.path + \"'\" + (layer.params ? \", \" + layer.params : \"\") + \")\";\r\n                            break;\r\n                        case \"IMcNativeRasterMapLayer\":\r\n                            layerCreateString = \"MapCore.IMcNativeRasterMapLayer.Create('\" + layer.path + \"', \" + (layer.params ? layer.params : \"MapCore.UINT_MAX, false, 0, false\") + \", this.layerCallback)\";\r\n                            break;\r\n                        case \"IMcNativeDtmMapLayer\":\r\n                            layerCreateString = \"MapCore.IMcNativeDtmMapLayer.Create('\" + layer.path + \"', \" + (layer.params ? layer.params : \"0\") + \", this.layerCallback)\";\r\n                            break;\r\n                        case \"IMcNativeVectorMapLayer\":\r\n                            layerCreateString = \"MapCore.IMcNativeVectorMapLayer.Create('\" + layer.path + \"', \" + (layer.params ? layer.params : \"\") + \"this.layerCallback)\";\r\n                            break;\r\n                        case \"IMcNativeStaticObjectsMapLayer\":\r\n                            layerCreateString = \"MapCore.IMcNativeStaticObjectsMapLayer.Create('\" + layer.path +  \"', \" + (layer.params ? layer.params : \"0, 0\") + \", this.layerCallback)\";\r\n                            break;\r\n                        default:\r\n                            alert(\"Invalid type of server layer\");\r\n                            return;\r\n                    }\r\n                    layerGroup.aLayerCreateStrings.push(layerCreateString);\r\n                }\r\n            }\r\n            if (jsonGroup.groupName != undefined) {\r\n                \r\n                this.setState({mapLayerGroups: new Map(this.state.mapLayerGroups.set(jsonGroup.groupName, layerGroup))});                \r\n                                \r\n            } \r\n            // we should not get here...\r\n            else if (jsonGroup.wmtsServerURL != undefined) {\r\n\r\n                // layerGroup.wmtsServerURL = jsonGroup.wmtsServerURL;\r\n                // if (jsonGroup.tileMatrixSetFilter != undefined) {\r\n\r\n                //     layerGroup.tileMatrixSetFilter = jsonGroup.tileMatrixSetFilter;\r\n                // }\r\n                // aWmtsAdditionalLayerGroups.push(layerGroup);\r\n            }\r\n        }\r\n    }\r\n    catch (e)\r\n    {\r\n        alert(\"Invalid configuration JSON file\");\r\n    }\r\n    }\r\n\r\n    parseCapabilitiesXML(xmlDoc, capabilitiesURL, bMapCoreLayerServer = true, wmtsAdditionalLayerGroup) {\r\n        class CXmlNode\r\n        {\r\n            constructor(node)\r\n            {\r\n                this.node = node;\r\n            }\r\n            GetFirstChild(tagName)\r\n            {\r\n                let children = this.node.getElementsByTagName(tagName);\r\n                for (let child of children)\r\n                {\r\n                    if (child.parentNode == this.node)\r\n                    {\r\n                        return new CXmlNode(child);\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            GetFirstChildText(tagName)\r\n            {\r\n                let children = this.node.getElementsByTagName(tagName);\r\n                for (let child of children)\r\n                {\r\n                    if (child.parentNode == this.node)\r\n                    {\r\n                        return child.textContent;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            GetFirstChildAttribute(tagName, attributeName)\r\n            {\r\n                let children = this.node.getElementsByTagName(tagName);\r\n                for (let child of children)\r\n                {\r\n                    if (child.parentNode == this.node)\r\n                    {\r\n                        return child.attributes.getNamedItem(attributeName).value;\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n            GetChildren(tagName)\r\n            {\r\n                let children = this.node.getElementsByTagName(tagName);\r\n                let aNodes = [];\r\n                for (let child of children)\r\n                {\r\n                    if (child.parentNode == this.node)\r\n                    {\r\n                        aNodes.push(new CXmlNode(child));\r\n                    }\r\n                }\r\n                return aNodes;\r\n            }\r\n            GetChildrenTexts(tagName)\r\n            {\r\n                let children = this.node.getElementsByTagName(tagName);\r\n                let aTexts = [];\r\n                for (let child of children)\r\n                {\r\n                    if (child.parentNode == this.node)\r\n                    {\r\n                        aTexts.push(child.textContent);\r\n                    }\r\n                }\r\n                return aTexts;\r\n            }\r\n        }\r\n        \r\n        if (xmlDoc != null)\r\n        {\r\n            try\r\n            {\r\n                let capabilities = new CXmlNode(xmlDoc).GetFirstChild(\"Capabilities\");\r\n                let MapLayerServerURL = capabilities.GetFirstChildAttribute(\"ServiceMetadataURL\", \"xlink:href\");\r\n                if (MapLayerServerURL == null || MapLayerServerURL == \"\")\r\n                {\r\n                    MapLayerServerURL = capabilitiesURL;\r\n                }\r\n                let lastSlashIndex = MapLayerServerURL.lastIndexOf(\"?\");\r\n                if (lastSlashIndex < 0)\r\n                {\r\n                    lastSlashIndex = MapLayerServerURL.lastIndexOf(\"/\");\r\n                }\r\n                if (lastSlashIndex < 0)\r\n                {\r\n                    alert(\"Invalid Capabilities file\");\r\n                    return;\r\n                }\r\n                let TrimmedMapLayerServerURL = MapLayerServerURL.substring(0, lastSlashIndex);\r\n    \r\n                let contents = capabilities.GetFirstChild(\"Contents\");\r\n                let aTileMatrixSets = contents.GetChildren(\"TileMatrixSet\");\r\n                let mapTileMatrixSets = new Map();\r\n                for (let matrixSet of aTileMatrixSets)\r\n                {\r\n                    let id = matrixSet.GetFirstChildText(\"ows:Identifier\");\r\n                    let crs = matrixSet.GetFirstChildText(\"ows:SupportedCRS\");\r\n                    if (id != null &&  crs != null)\r\n                    {\r\n                        mapTileMatrixSets.set(matrixSet.GetFirstChildText(\"ows:Identifier\"), { coordSystem : crs, tileMatrixSet : id});\r\n                    }\r\n                }\r\n    \r\n                let aLayers = contents.GetChildren(\"Layer\");\r\n                for (let layer of aLayers)\r\n                {\r\n                    // check here if its single layer preview. if yes put only this layer in the hashMap                    \r\n                    let layerID = layer.GetFirstChildText(\"ows:Identifier\");                    \r\n                    if (this.context.mapToPreview.type === config.nodesLevel.layer && \r\n                            (this.context.mapToPreview.data.LayerId !== layerID && this.context.mapToPreview.dtmLayerId !== layerID)) \r\n                            continue;\r\n\r\n                    let aFormats = layer.GetChildrenTexts(\"Format\");\r\n                    let aTileMatrixSetLinks = layer.GetChildren(\"TileMatrixSetLink\");\r\n                    if (aTileMatrixSetLinks.length == 0)\r\n                    {\r\n                        aTileMatrixSetLinks.push(null);\r\n                    }\r\n                    \r\n                    for (let tileMatrixSetLink of aTileMatrixSetLinks)\r\n                    {\r\n                        let coordSystem = null;\r\n                        let tileMatrixSet = null;\r\n                        if (tileMatrixSetLink != null)\r\n                        {\r\n                            let tileMatrixSetParams = mapTileMatrixSets.get(tileMatrixSetLink.GetFirstChildText(\"TileMatrixSet\"));\r\n                            coordSystem = tileMatrixSetParams.coordSystem;\r\n                            tileMatrixSet = tileMatrixSetParams.tileMatrixSet;\r\n                            if (wmtsAdditionalLayerGroup && wmtsAdditionalLayerGroup.tileMatrixSetFilter && tileMatrixSet != wmtsAdditionalLayerGroup.tileMatrixSetFilter)\r\n                            {\r\n                                continue;\r\n                            }\r\n                        }\r\n                        if (coordSystem == null)\r\n                        {\r\n                            let boundingBox = layer.GetFirstChild(\"ows:BoundingBox\");\r\n                            if (boundingBox)\r\n                            {\r\n                                coordSystem = boundingBox.GetFirstChildText(\"ows:crs\");\r\n                            }\r\n                        }\r\n                        let prefix = \"urn:ogc:def:crs:\";\r\n                        if (coordSystem.indexOf(prefix) == 0)\r\n                        {\r\n                            coordSystem = coordSystem.substring(prefix.length).replace(\"::\", \":\");\r\n                            let aGroups = [];\r\n                            if (bMapCoreLayerServer)\r\n                            {\r\n                                aGroups = layer.GetFirstChildText(\"Group\").split(\",\");\r\n                                for (let i = 0; i < aGroups.length; ++i)\r\n                                {\r\n                                    aGroups[i] = aGroups[i] + \" (server \" + coordSystem + \")\";\r\n                                }\r\n                            }\r\n                            else\r\n                            {\r\n                                let groupName = layer.GetFirstChildText(\"ows:Title\");\r\n                                if (groupName == null)\r\n                                {\r\n                                    groupName = layerID;\r\n                                }\r\n    \r\n                                for (let i = 0; i < aFormats.length; ++i)\r\n                                {\r\n                                    aFormats[i] = aFormats[i].replace(\"image/\", \"\");\r\n                                    aGroups[i] = groupName  + \" (WMTS \" + aFormats[i] + \" \" + tileMatrixSet + \")\";\r\n                                }\r\n                            }\r\n                            for (let i = 0; i < aGroups.length; ++i)\r\n                            {\r\n                                let group = aGroups[i];\r\n    \r\n                                // coordinate system creation string: MapCore.IMcGridGeneric.Create('EPSG:4326') etc.\r\n                                let coordSystemString = \"MapCore.IMcGridGeneric.Create('\" + coordSystem + \"')\";\r\n                                let layerGroup = this.state.mapLayerGroups.get(group);\r\n                                if (layerGroup == undefined)\r\n                                {\r\n                                    layerGroup = new SLayerGroup(coordSystemString, true); // for MapCoreLayerServer only: bShowGeoInMetricProportion is true\r\n                                    this.setState({mapLayerGroups: new Map(this.state.mapLayerGroups.set(group, layerGroup))});\r\n                                }\r\n                                else if (coordSystemString != layerGroup.coordSystemString)\r\n                                {\r\n                                    alert(\"Layers' coordinate systems do not match\");\r\n                                    return;\r\n                                }\r\n                                let layerCreateString;\r\n                                if (bMapCoreLayerServer)\r\n                                {\r\n                                    layerCreateString = aFormats[0].replace(\"MapCore\", \"MapCore.IMcNative\").replace(\"DTM\", \"Dtm\") + \"MapLayer\" + \".Create('\" + TrimmedMapLayerServerURL + \"/\" + layerID + \"')\";\r\n                                    layerGroup.aLayerCreateStrings.push(layerCreateString);\r\n                                }\r\n                                else\r\n                                {\r\n                                    // WMTS raster layer creation string: CreateWMTSRasterLayer('http://wmtsserver/wmts?request=GetCapabilities', 'layer', 'EPSG:4326', 'jpeg') etc.\r\n                                    layerCreateString = \"CreateWMTSRasterLayer('\" + capabilitiesURL + \"', '\" + layerID + \"', '\" + tileMatrixSet + \"', '\" + aFormats[i] + \"')\";\r\n                                    layerGroup.aLayerCreateStrings.push(layerCreateString);\r\n                                    if (wmtsAdditionalLayerGroup)\r\n                                    {\r\n                                        layerGroup.aLayerCreateStrings = layerGroup.aLayerCreateStrings.concat(wmtsAdditionalLayerGroup.aLayerCreateStrings);\r\n                                        layerGroup.bSetTerrainBoxByStaticLayerOnly = wmtsAdditionalLayerGroup.bSetTerrainBoxByStaticLayerOnly;\r\n                                        layerGroup.bShowGeoInMetricProportion = wmtsAdditionalLayerGroup.bShowGeoInMetricProportion;\r\n                                        layerGroup.InitialScale2D = wmtsAdditionalLayerGroup.InitialScale2D;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            catch (e)\r\n            {\r\n                alert(\"Invalid Capabilities file\");\r\n            }\r\n        }\r\n    }\r\n\r\n    createCallbackClasses() {        \r\n        this.CLayerReadCallback = window.MapCore.IMcMapLayer.IReadCallback.extend(\"IMcMapLayer.IReadCallback\", {\r\n            // mandatory\r\n            OnInitialized : function(pLayer, eStatus, strAdditionalDataString)\r\n            {\r\n                if (eStatus == window.MapCore.IMcErrors.ECode.SUCCESS)\r\n                {\r\n                    if (pLayer.GetLayerType() ==  window.MapCore.IMcNativeStaticObjectsMapLayer.LAYER_TYPE && !pLayer.IsBuiltOfContoursExtrusion())\r\n                    {\r\n                        pLayer.SetDisplayingItemsAttachedToTerrain(true);\r\n                        pLayer.SetDisplayingDtmVisualization(true);\r\n                    }\r\n                }\r\n                else if (eStatus !=  window.MapCore.IMcErrors.ECode.NATIVE_SERVER_LAYER_NOT_VALID)\r\n                {\r\n                    alert(\"Layer initialization: \" +  window.MapCore.IMcErrors.ErrorCodeToString(eStatus) + \" (\" + strAdditionalDataString + \")\");\r\n                }\r\n            },\r\n            // mandatory\r\n            OnReadError: function(pLayer, eErrorCode, strAdditionalDataString) {\r\n                alert(\"Layer read error: \" + window.MapCore.IMcErrors.ErrorCodeToString(eErrorCode) + \" (\" + strAdditionalDataString + \")\");\r\n            },\r\n            // mandatory\r\n            OnNativeServerLayerNotValid: function(pLayer, bLayerVersionUpdated) {/*TBD*/},\r\n            // optional, needed if to be deleted by MapCore when no longer used\r\n            // optional\r\n            OnRemoved(pLayer, eStatus, strAdditionalDataString)\r\n            {\r\n                alert(\"Map layer has been removed\");\r\n            },\r\n\r\n            // optional\r\n            OnReplaced(pOldLayer, pNewLayer, eStatus, strAdditionalDataString)\r\n            {\r\n                alert(\"Map layer has been replaced\");\r\n            },            \r\n            Release: function() { this.delete(); },\r\n        });\r\n        \r\n        this.CCameraUpdateCallback = window.MapCore.IMcMapViewport.ICameraUpdateCallback.extend(\"IMcMapViewport.ICameraUpdateCallback\", {\r\n            // mandatory\r\n            OnActiveCameraUpdated: function(pViewport) {\r\n                ++this.uCameraUpdateCounter\r\n            },\r\n            // optional\r\n            Release: function() {\r\n                this.delete()\r\n            }\r\n        });\r\n        \r\n        this.CAsyncQueryCallback = window.MapCore.IMcSpatialQueries.IAsyncQueryCallback.extend(\"IMcSpatialQueries.IAsyncQueryCallback\", {\r\n            // optional\r\n            __construct: function(viewportData) {\r\n                this.__parent.__construct.call(this);\r\n                this.viewportData = viewportData;\r\n            },\r\n\r\n            OnTerrainHeightResults: function (bHeightFound, height, normal) {\r\n                if (this.viewportData.viewport != null) {\r\n                    this.viewportData.terrainCenter.z = height + 20;\r\n                    if (this.viewportData.viewport.GetMapType() == window.MapCore.IMcMapCamera.EMapType.EMT_3D) {\r\n                        this.viewportData.viewport.SetCameraPosition(this.viewportData.terrainCenter);\r\n                    }\r\n                }\r\n                this.delete();\r\n            },\r\n            OnTerrainHeightMatrixResults: function(uNumHorizontalPoints, uNumVerticalPoints, adHeightMatrix) {},\r\n            OnTerrainHeightsAlongLineResults: function(aPointsWithHeights, aSlopes, pSlopesData) {},\r\n            OnExtremeHeightPointsInPolygonResults: function(bPointsFound, pHighestPoint, pLowestPoint) {},\r\n            OnTerrainAnglesResults: function(dPitch, dRoll) {},\r\n\r\n            // OnRayIntersectionResults\r\n            OnLineOfSightResults: function(aPoints, dCrestClearanceAngle, dCrestClearanceDistance){},\r\n            OnPointVisibilityResults: function(bIsTargetVisible, pdMinimalTargetHeightForVisibility, pdMinimalScouterHeightForVisibility) {},\r\n            OnAreaOfSightResults: function(pAreaOfSight, aLinesOfSight, pSeenPolygons, pUnseenPolygons, aSeenStaticObjects) {},\r\n            OnLocationFromTwoDistancesAndAzimuthResults: function(Target){},\r\n\r\n            // mandatory\r\n            OnError: function(eErrorCode) {\r\n                alert('error '+ eErrorCode);\r\n                this.delete();\r\n            },\r\n        });\r\n\r\n        let CUserData = window.MapCore.IMcUserData.extend(\"IMcUserData\", {\r\n            // optional\r\n            __construct: function(bToBeDeleted) {\r\n                this.__parent.__construct.call(this);\r\n                this.bToBeDeleted = bToBeDeleted;\r\n                // ...\r\n            },\r\n\r\n            // optional\r\n            __destruct: function() {\r\n                this.__parent.__destruct.call(this);\r\n                // ...\r\n            },\r\n\r\n            // mandatory\r\n            Release: function() {\r\n                if (this.bToBeDeleted)\r\n                {\r\n                    this.delete();\r\n                }\r\n            },\r\n\r\n            // optional\r\n            Clone: function() {\r\n                if (this.bToBeDeleted) {\r\n                    return new CUserData(this.bToBeDeleted);\r\n                }\r\n                return this;\r\n            },\r\n        });\r\n        this.layerCallback = new this.CLayerReadCallback();\r\n    }\r\n\r\n    doMoveObjects() {\r\n    }\r\n\r\n    renderMapContinuously = () => {\r\n        this.trySetTerainBox();\r\n        let currtRenderTime = (new Date).getTime();\r\n        \r\n        // render viewport(s)\r\n        if (!this.state.bSameCanvas) {\r\n            window.MapCore.IMcMapViewport.RenderAll(); \r\n        } else if (this.viewport != null) {\r\n            this.viewport.Render();\r\n        }\r\n    \r\n        // move objects if they exist\r\n        this.doMoveObjects();\r\n        this.lastRenderTime = currtRenderTime;\r\n    \r\n        // log memory usage and heap size\r\n        if (this.uMemUsageLoggingFrequency != 0 && currtRenderTime >= this.lastMemUsageLogTime + this.uMemUsageLoggingFrequency * 1000) {\r\n            let usage = window.MapCore.IMcMapDevice.GetMaxMemoryUsage();\r\n            console.log(\"Max mem = \" + window.MapCore.IMcMapDevice.GetMaxMemoryUsage().toLocaleString() + \", heap = \" + window.MapCore.IMcMapDevice.GetHeapSize().toLocaleString() + \" B\");\r\n            this.lastMemUsageLogTime = currtRenderTime;\r\n        }\r\n    \r\n        // ask the browser to render again\r\n        requestAnimationFrame(this.renderMapContinuously);\r\n    }\r\n\r\n    trySetTerainBox() {\r\n        for (let j = 0; j < this.aViewports.length; j++) {\r\n            if (this.aViewports[j].terrainBox == null) {\r\n                let aViewportLayers = this.aViewports[j].aLayers;\r\n                if (aViewportLayers.length != 0) {\r\n                    this.aViewports[j].terrainBox = new window.MapCore.SMcBox(-window.MapCore.DBL_MAX, -window.MapCore.DBL_MAX, 0, window.MapCore.DBL_MAX, window.MapCore.DBL_MAX, 0);\r\n                    for (let i = 0; i < aViewportLayers.length; ++i) {\r\n                        if (this.aViewports[j].bSetTerrainBoxByStaticLayerOnly && aViewportLayers[i].GetLayerType() != window.MapCore.IMcNativeStaticObjectsMapLayer.LAYER_TYPE) {\r\n                            continue;\r\n                        }\r\n    \r\n                        if (!aViewportLayers[i].IsInitialized()) {\r\n                            this.aViewports[j].terrainBox = null;\r\n                            return;\r\n                        }\r\n    \r\n                        let layerBox = aViewportLayers[i].GetBoundingBox();\r\n                        if (layerBox.MinVertex.x > this.aViewports[j].terrainBox.MinVertex.x) {\r\n                            this.aViewports[j].terrainBox.MinVertex.x = layerBox.MinVertex.x;\r\n                        }\r\n                        if (layerBox.MaxVertex.x < this.aViewports[j].terrainBox.MaxVertex.x) {\r\n                            this.aViewports[j].terrainBox.MaxVertex.x = layerBox.MaxVertex.x;\r\n                        }\r\n                        if (layerBox.MinVertex.y > this.aViewports[j].terrainBox.MinVertex.y) {\r\n                            this.aViewports[j].terrainBox.MinVertex.y = layerBox.MinVertex.y;\r\n                        }\r\n                        if (layerBox.MaxVertex.y < this.aViewports[j].terrainBox.MaxVertex.y) {\r\n                            this.aViewports[j].terrainBox.MaxVertex.y = layerBox.MaxVertex.y;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    this.aViewports[j].terrainBox = new window.MapCore.SMcBox(0, 0, 0, 0, 0, 0);\r\n                }\r\n    \r\n                this.aViewports[j].terrainCenter = window.MapCore.SMcVector3D((this.aViewports[j].terrainBox.MinVertex.x + this.aViewports[j].terrainBox.MaxVertex.x) / 2, (this.aViewports[j].terrainBox.MinVertex.y + this.aViewports[j].terrainBox.MaxVertex.y) / 2, 0);\r\n                this.aViewports[j].terrainCenter.z = 10000;\r\n            }\r\n    \r\n            if (!this.aViewports[j].bCameraPositionSet)\r\n            {\r\n                if (this.aViewports[j].viewport.GetMapType() == window.MapCore.IMcMapCamera.EMapType.EMT_2D)\r\n                {\r\n                    this.aViewports[j].viewport.SetCameraPosition(this.aViewports[j].terrainCenter);\r\n                    this.aViewports[j].bCameraPositionSet = true;\r\n                }\r\n                else // 3D\r\n                {\r\n                    let height = {};\r\n                    this.aViewports[j].terrainCenter.z = 1000;\r\n                    this.aViewports[j].viewport.SetCameraPosition(this.aViewports[j].terrainCenter);\r\n                    let params = new window.MapCore.IMcSpatialQueries.SQueryParams();\r\n                    params.eTerrainPrecision = window.MapCore.IMcSpatialQueries.EQueryPrecision.EQP_HIGH;\r\n                    this.aViewports[j].bCameraPositionSet = true;\r\n                    params.pAsyncQueryCallback = new this.CAsyncQueryCallback(this.aViewports[j]);\r\n                    this.aViewports[j].viewport.GetTerrainHeight(this.aViewports[j].terrainCenter, height, null, params); // async, wait for OnTerrainHeightResults()\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    resizeCanvases = () => {\r\n        if (this.aViewports.length == 0) {\r\n            return;\r\n        }\r\n   \r\n       let CanvasesInRow, CanvasesInColumn;\r\n       if (!this.state.bSameCanvas) {\r\n           CanvasesInRow = Math.ceil(Math.sqrt(this.aViewports.length));\r\n           CanvasesInColumn = Math.ceil(this.aViewports.length / CanvasesInRow);\r\n       }\r\n       else {\r\n           CanvasesInRow = 1;\r\n           CanvasesInColumn = 1;\r\n       }\r\n       //todo: use this instead: document.getElementById('id').getBoundingClientRect()\r\n    //    let width =  (window.innerWidth - 40) / CanvasesInRow - 10;\r\n    //    let height = (window.innerHeight - 80) / CanvasesInColumn - 15;\r\n       let width =  document.getElementById('canvasesContainer').getBoundingClientRect().width;\r\n       let height = document.getElementById('canvasesContainer').getBoundingClientRect().height;\r\n       \r\n       for (let i = 0; i < this.aViewports.length ; i++) {\r\n           this.aViewports[i].canvas.width = width;\r\n           this.aViewports[i].canvas.height = height;\r\n           this.aViewports[i].viewport.ViewportResized();\r\n       }\r\n    }\r\n\r\n    calcMinMaxHeights() {\r\n        let minHeight = 0;\r\n        let maxHeight = 700;\r\n        let fp = this.viewport.GetCameraFootprint();\r\n\r\n        if (fp.bUpperLeftFound && fp.bUpperRightFound && fp.bLowerRightFound && fp.bLowerLeftFound) {\r\n            let minPoint = {}, maxPoint = {};\r\n            if (this.viewport.GetExtremeHeightPointsInPolygon([fp.UpperLeft, fp.UpperRight, fp.LowerRight, fp.LowerLeft], maxPoint, minPoint)) {\r\n                minHeight = minPoint.Value.z;\r\n                maxHeight = maxPoint.Value.z;\r\n            }\r\n        }\r\n        return { minHeight, maxHeight };\r\n    }\r\n\r\n    // function switching DTM-visualization (height map) on/off\r\n    doDtmVisualization() {\r\n        if (!this.viewport.GetDtmVisualization()) {\r\n            let result = this.calcMinMaxHeights();\r\n            let DtmVisualization = new window.MapCore.IMcMapViewport.SDtmVisualizationParams();\r\n            window.MapCore.IMcMapViewport.SDtmVisualizationParams.SetDefaultHeightColors(DtmVisualization, result.minHeight, result.maxHeight);\r\n            DtmVisualization.bDtmVisualizationAboveRaster = true;\r\n            DtmVisualization.uHeightColorsTransparency = 120;\r\n            DtmVisualization.uShadingTransparency = 255;\r\n            this.viewport.SetDtmVisualization(true, DtmVisualization);\r\n        } else {\r\n            this.viewport.SetDtmVisualization(false);\r\n        }\r\n    }\r\n\r\n    mouseWheelHandler = e => {\r\n        let bHandled = {};\r\n        let eCursor = {};\r\n        let wheelDelta = - e.deltaY;\r\n        this.editMode.OnMouseEvent(window.MapCore.IMcEditMode.EMouseEvent.EME_MOUSE_WHEEL, window.MapCore.SMcPoint(0, 0), e.ctrlKey, wheelDelta, bHandled, eCursor);\r\n        if (bHandled.Value) {\r\n            return;\r\n        }\r\n    \r\n        let factor = (e.shiftKey ? 10 : 1);\r\n    \r\n        if (this.viewport.GetMapType() == window.MapCore.IMcMapCamera.EMapType.EMT_3D) {\r\n            this.viewport.MoveCameraRelativeToOrientation(window.MapCore.SMcVector3D(0, 0, wheelDelta / 8.0 * factor), true);\r\n        } else {\r\n            let fScale = this.viewport.GetCameraScale();\r\n            if (wheelDelta > 0) {\r\n                this.viewport.SetCameraScale(fScale / 1.25);\r\n            } else {\r\n                this.viewport.SetCameraScale(fScale * 1.25);\r\n            }\r\n    \r\n            if (this.viewport.GetDtmVisualization()) {\r\n                this.doDtmVisualization();\r\n                this.doDtmVisualization();\r\n            }\r\n        }\r\n    \r\n        e.preventDefault();\r\n        e.cancelBubble = true;\r\n        if (e.stopPropagation) e.stopPropagation();\r\n    }\r\n\r\n\r\n    mouseMoveHandler = e => {\r\n        if (this.viewport.GetWindowHandle() != e.target) {\r\n            return;\r\n        }\r\n    \r\n        let EventPixel = window.MapCore.SMcPoint(e.offsetX, e.offsetY);\r\n        if (e.buttons <= 1) {\r\n            let bHandled = {};\r\n            let eCursor = {};\r\n            this.editMode.OnMouseEvent(e.buttons == 1 ? window.MapCore.IMcEditMode.EMouseEvent.EME_MOUSE_MOVED_BUTTON_DOWN : window.MapCore.IMcEditMode.EMouseEvent.EME_MOUSE_MOVED_BUTTON_UP, \r\n                EventPixel, e.ctrlKey, 0, bHandled, eCursor);\r\n            if (bHandled.Value) {\r\n                e.preventDefault();\r\n                e.cancelBubble = true;\r\n                if (e.stopPropagation) e.stopPropagation();\r\n                return;\r\n            }\r\n        }\r\n    \r\n        if (e.buttons == 1) {\r\n            if (this.nMousePrevX != 0) {\r\n                let factor = (e.shiftKey ? 10 : 1);\r\n                if (this.viewport.GetMapType() == window.MapCore.IMcMapCamera.EMapType.EMT_3D) {\r\n                    if (e.ctrlKey) {\r\n                        this.viewport.MoveCameraRelativeToOrientation(window.MapCore.SMcVector3D((this.nMousePrevX - EventPixel.x) / 2.0 * factor, - (this.nMousePrevY - EventPixel.y) / 2.0 * factor, 0), false);\r\n                    }\r\n                    else {\r\n                        this.viewport.RotateCameraRelativeToOrientation((this.nMousePrevX - EventPixel.x) / 2.0, - (this.nMousePrevY - EventPixel.y) / 2.0, 0);\r\n                    }\r\n                } else {\r\n                    if (e.ctrlKey) {\r\n                        this.viewport.SetCameraOrientation((this.nMousePrevX - EventPixel.x) / 2.0, window.MapCore.FLT_MAX, window.MapCore.FLT_MAX, true);\r\n                    }\r\n                    else {\r\n                        this.viewport.ScrollCamera((this.nMousePrevX - EventPixel.x) * factor, (this.nMousePrevY - EventPixel.y) * factor);\r\n                    }\r\n                }\r\n    \r\n                e.preventDefault();\r\n                e.cancelBubble = true;\r\n                if (e.stopPropagation) e.stopPropagation();\r\n            }\r\n        }\r\n    \r\n        this.nMousePrevX = EventPixel.x;\r\n        this.nMousePrevY = EventPixel.y;\r\n    }\r\n\r\n    mouseDownHandler = e => {\r\n        if (this.editMode.IsEditingActive()) {\r\n            // EditMode is active: don't change active viewport, but ignore click on non-active one\r\n            if (this.viewport.GetWindowHandle() != e.target)\r\n            {\r\n               return;\r\n            }\r\n        } else if (!this.state.bSameCanvas) {\r\n            for (let i = 0; i < this.aViewports.length; i++) {\r\n                if (e.target ==  this.aViewports[i].viewport.GetWindowHandle()) {\r\n                    this.activeViewport = i;\r\n                    this.updateActiveViewport();\r\n                    break;\r\n                }                \r\n            }\r\n        }\r\n    \r\n        let EventPixel = window.MapCore.SMcPoint(e.offsetX, e.offsetY);\r\n        this.mouseDownButtons = e.buttons;\r\n        if (e.buttons == 1) {\r\n            let bHandled = {};\r\n            let eCursor = {};\r\n            this.editMode.OnMouseEvent(window.MapCore.IMcEditMode.EMouseEvent.EME_BUTTON_PRESSED, EventPixel, e.ctrlKey, 0, bHandled, eCursor);\r\n            if (bHandled.Value) {\r\n                e.preventDefault();\r\n                e.cancelBubble = true;\r\n                if (e.stopPropagation) e.stopPropagation();\r\n                return;\r\n            }\r\n    \r\n            this.nMousePrevX = EventPixel.x;\r\n            this.nMousePrevY = EventPixel.y;\r\n        }\r\n    \r\n        e.preventDefault();\r\n        e.cancelBubble = true;\r\n        if (e.stopPropagation) e.stopPropagation();\r\n    }\r\n    mouseUpHandler = e => {\r\n        if (this.viewport.GetWindowHandle() != e.target) {\r\n            return;\r\n        }\r\n        \r\n        let EventPixel = window.MapCore.SMcPoint(e.offsetX, e.offsetY);\r\n        let buttons = this.mouseDownButtons & ~e.buttons;\r\n        if (buttons == 1) {\r\n            let bHandled = {};\r\n            let eCursor = {};\r\n            this.editMode.OnMouseEvent(window.MapCore.IMcEditMode.EMouseEvent.EME_BUTTON_RELEASED, EventPixel, e.ctrlKey, 0, bHandled, eCursor);\r\n            if (bHandled.Value) {\r\n                e.preventDefault();\r\n                e.cancelBubble = true;\r\n                if (e.stopPropagation) e.stopPropagation();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    mouseDblClickHandler = e => {\r\n        if (this.viewport.GetWindowHandle() != e.target) {\r\n            return;\r\n        }\r\n        \r\n        let EventPixel = window.MapCore.SMcPoint(e.offsetX, e.offsetY);\r\n        let buttons = this.mouseDownButtons & ~e.buttons;\r\n        if (this.bEdit) {\r\n            let aTargets = this.viewport.ScanInGeometry(new window.MapCore.SMcScanPointGeometry(window.MapCore.EMcPointCoordSystem.EPCS_SCREEN, window.MapCore.SMcVector3D(EventPixel.x, EventPixel.y, 0), 20), false);\r\n            for (let i = 0; i < aTargets.length; ++i) {\r\n                if (aTargets[i].eTargetType == window.MapCore.IMcSpatialQueries.EIntersectionTargetType.EITT_OVERLAY_MANAGER_OBJECT) {\r\n                    if (this.bEdit) {\r\n                        this.editMode.StartEditObject(aTargets[i].ObjectItemData.pObject, aTargets[i].ObjectItemData.pItem);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n            this.bEdit = false;\r\n            e.preventDefault();\r\n            e.cancelBubble = true;\r\n            if (e.stopPropagation) e.stopPropagation();\r\n            return;\r\n        }\r\n    \r\n        if (buttons == 1) {\r\n            let bHandled = {};\r\n            let eCursor = {};\r\n            this.editMode.OnMouseEvent(window.MapCore.IMcEditMode.EMouseEvent.EME_BUTTON_DOUBLE_CLICK, EventPixel, e.ctrlKey, 0, bHandled, eCursor);\r\n            if (bHandled.Value) {\r\n                e.preventDefault();\r\n                e.cancelBubble = true;\r\n                if (e.stopPropagation) e.stopPropagation();\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    createViewport(terrain, eMapTypeToOpen) {\r\n        // create canvas if needed\r\n        let currCanvas;\r\n        if (!this.state.bSameCanvas || this.aViewports.length == 0) {\r\n            // create canvas\r\n            currCanvas = document.createElement('canvas');\r\n            //currCanvas.style.border = \"thick solid #FFFFFF\"; \r\n            \r\n            currCanvas.addEventListener(\"wheel\", this.mouseWheelHandler, false);\r\n            currCanvas.addEventListener(\"mousemove\", this.mouseMoveHandler, false);\r\n            currCanvas.addEventListener(\"mousedown\", this.mouseDownHandler, false);\r\n            currCanvas.addEventListener(\"mouseup\", this.mouseUpHandler, false);\r\n            currCanvas.addEventListener(\"dblclick\", this.mouseDblClickHandler, false);\r\n        }\r\n        else {\r\n            // use existing canvas\r\n            currCanvas = this.aViewports[0].canvas;\r\n        }\r\n    \r\n        // create viewport\r\n        let layerGroup = this.state.mapLayerGroups.get(this.state.lastTerrainConfiguration);\r\n        let vpCreateData = new window.MapCore.IMcMapViewport.SCreateData(eMapTypeToOpen);\r\n        vpCreateData.pDevice = this.device;\r\n        vpCreateData.pCoordinateSystem = (terrain != null ? terrain.GetCoordinateSystem() : this.overlayManager.GetCoordinateSystemDefinition());\r\n        vpCreateData.pOverlayManager = this.overlayManager;\r\n        vpCreateData.hWnd = currCanvas;\r\n        if (layerGroup.bShowGeoInMetricProportion) {\r\n            vpCreateData.bShowGeoInMetricProportion = true;\r\n        }\r\n        this.viewport = window.MapCore.IMcMapViewport.Create(/*Camera*/null, vpCreateData, terrain != null ? [terrain] : null);\r\n        this.editMode = window.MapCore.IMcEditMode.Create(this.viewport);\r\n        \r\n        // add camera-update callback\r\n        let callback = new this.CCameraUpdateCallback();\r\n        this.viewport.AddCameraUpdateCallback(callback);\r\n\r\n        if (this.viewport.GetMapType() == window.MapCore.IMcMapCamera.EMapType.EMT_3D) {\r\n            this.viewport.SetScreenSizeTerrainObjectsFactor(1.5);\r\n            this.viewport.SetCameraRelativeHeightLimits(3, 10000, true);\r\n        }\r\n        else {\r\n            this.viewport.SetStaticObjectsVisibilityMaxScale(50);\r\n            if (layerGroup.InitialScale2D) {\r\n                this.viewport.SetCameraScale(layerGroup.InitialScale2D);\r\n            }\r\n        }\r\n        \r\n        this.viewport.SetBackgroundColor(window.MapCore.SMcBColor(70, 70, 70, 255));\r\n\r\n        // set object delays for optimazing rendering objects\r\n        this.viewport.SetObjectsDelay(window.MapCore.IMcMapViewport.EObjectDelayType.EODT_VIEWPORT_CHANGE_OBJECT_UPDATE, true, 50);\r\n        this.viewport.SetObjectsDelay(window.MapCore.IMcMapViewport.EObjectDelayType.EODT_VIEWPORT_CHANGE_OBJECT_CONDITION, true, 50);\r\n        this.viewport.SetObjectsDelay(window.MapCore.IMcMapViewport.EObjectDelayType.EODT_VIEWPORT_CHANGE_OBJECT_SIZE, true, 5);\r\n        this.viewport.SetObjectsDelay(window.MapCore.IMcMapViewport.EObjectDelayType.EODT_VIEWPORT_CHANGE_OBJECT_HEIGHT, true, 50);\r\n\r\n        // set objects movement threshold\r\n        this.viewport.SetObjectsMovementThreshold(1);\r\n\r\n        // set terrain cache\r\n        if (terrain != null) {\r\n            this.viewport.SetTerrainNumCacheTiles(terrain, false, 300);\r\n            this.viewport.SetTerrainNumCacheTiles(terrain, true, 300);\r\n        }\r\n\r\n        let viewportData = new SViewportData(this.viewport, this.editMode);\r\n        viewportData.terrain = terrain;\r\n        if (layerGroup.bSetTerrainBoxByStaticLayerOnly) {\r\n            viewportData.bSetTerrainBoxByStaticLayerOnly = true;\r\n        }\r\n\r\n        this.aViewports.push(viewportData);\r\n        const canvasParent =  document.getElementById('canvasesContainer')\r\n        canvasParent.appendChild(currCanvas);\r\n        this.activeViewport = this.aViewports.length - 1;\r\n\r\n        this.updateActiveViewport();\r\n        this.resizeCanvases();\r\n        this.trySetTerainBox();\r\n    }\r\n\r\n    // function updating active viewport / Edit Mode and canvas borders\r\n    updateActiveViewport() {\r\n        if (this.activeViewport >= 0) {\r\n            for (let i = 0; i < this.aViewports.length; ++i) {\r\n                if (i == this.activeViewport) {\r\n                    this.viewport = this.aViewports[i].viewport;\r\n                    this.editMode = this.aViewports[i].editMode;\r\n                    if (!this.state.bSameCanvas) {\r\n                        //this.aViewports[i].canvas.style.borderColor = \"blue\";\r\n                    }\r\n                }\r\n                else {\r\n                    //this.aViewports[i].canvas.style.borderColor = \"white\";\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    doPrevViewport() {\r\n        if (this.aViewports.length > 1) {\r\n            this.activeViewport = (this.activeViewport + this.aViewports.length - 1) % this.aViewports.length;\r\n            this.updateActiveViewport();\r\n        }\r\n    }\r\n\r\n    doNextViewport() {\r\n        if (this.aViewports.length > 1)\r\n        {\r\n            this.activeViewport = (this.activeViewport + 1) % this.aViewports.length;\r\n            this.updateActiveViewport();\r\n        }\r\n    }   \r\n\r\n    // function creating terrain overlayManager and viewport, starting rendering\r\n    initializeViewports() {\r\n        let terrain = this.mapTerrains.get(this.state.lastTerrainConfiguration);\r\n        if (terrain == undefined) {            \r\n            if (this.aLastTerrainLayers.length > 0) {\r\n                terrain = window.MapCore.IMcMapTerrain.Create(this.lastCoordSys, this.aLastTerrainLayers);\r\n                terrain.AddRef();\r\n            }\r\n            else {\r\n                terrain = null;\r\n            }\r\n            this.mapTerrains.set(this.state.lastTerrainConfiguration, terrain);\r\n        }\r\n    \r\n        // create overlay manager\r\n        if (this.overlayManager == null) {            \r\n            if (this.lastCoordSys == null) {\r\n                this.lastCoordSys = window.MapCore.IMcGridUTM.Create(36, window.MapCore.IMcGridCoordinateSystem.EDatumType.EDT_ED50_ISRAEL);\r\n                this.lastCoordSys.AddRef();\r\n            }\r\n            this.overlayManager = window.MapCore.IMcOverlayManager.Create(this.lastCoordSys);\r\n            this.overlayManager.AddRef();\r\n    \r\n            // create overlay for objects\r\n            this.overlay = window.MapCore.IMcOverlay.Create(this.overlayManager);\r\n    \r\n        }\r\n    \r\n        // create map viewports\r\n        switch (this.state.lastViewportConfiguration) {\r\n            case \"2D/3D\":\r\n                this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_2D);\r\n                this.createViewport(terrain,window. MapCore.IMcMapCamera.EMapType.EMT_3D);\r\n                this.DoPrevViewport();\r\n                break;\r\n            case \"3D/2D\":\r\n                if (this.state.bSameCanvas) {\r\n                    this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_2D);\r\n                    this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_3D);\r\n                }\r\n                else {\r\n                    this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_3D);\r\n                    this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_2D);\r\n                    this.doPrevViewport();\r\n                }\r\n                break;\r\n            case \"2D\":\r\n                this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_2D);\r\n                break;\r\n            case \"3D\":\r\n                this.createViewport(terrain, window.MapCore.IMcMapCamera.EMapType.EMT_3D);\r\n                break;\r\n        }\r\n        \r\n        // example of try-catch MapCoreError\r\n        try {\r\n            // MapCore API function call\r\n        }\r\n        catch (ex) {\r\n            if (ex instanceof window.MapCoreError) {\r\n                alert(\"MapCore Error #\" + ex.name + \": \" + ex.message);\r\n            }\r\n            else {\r\n                throw ex;\r\n            }\r\n        }\r\n    \r\n        // ask the browser to render once\r\n        requestAnimationFrame(this.renderMapContinuously);\r\n    }\r\n\r\n    createMapLayersAndViewports() {\r\n        // if this terrain has not been created yet\r\n        if (this.mapTerrains.get(this.state.lastTerrainConfiguration) == undefined) {\r\n            this.aLastTerrainLayers = [];\r\n            let group = this.state.mapLayerGroups.get(this.state.lastTerrainConfiguration);            \r\n            // create coordinate system by running a code string prepared during parsing configuration files (JSON configuration file and capabilities XML of MapCoreLayerServer)\r\n            // e.g. MapCore.IMcGridCoordSystemGeographic.Create(MapCore.IMcGridCoordinateSystem.EDatumType.EDT_WGS84)\r\n            this.lastCoordSys = eval(group.coordSystemString);\r\n        \r\n            for (let i = 0; i < group.aLayerCreateStrings.length; ++i) {\r\n                // create map layer by running code string prepared during parsing configuration files (JSON configuration file and capabilities XML of MapCoreLayerServer)\r\n                // e.g. MapCore.IMcNativeRasterMapLayer.Create('http:Maps/Raster/SwissOrtho-GW') or CreateWMTSRasterLayer(...) or CreateWMSRasterLayer(...)\r\n                const layer = eval(group.aLayerCreateStrings[i]);\r\n                this.aLastTerrainLayers.push(layer);\r\n            }\r\n            this.lastCoordSys.AddRef();\r\n        }\r\n    \r\n        this.initializeViewports();\r\n    }\r\n\r\n    // async callGetCapabilitiesApi() {\r\n    //     try {\r\n    //         const response = await axios.get(config.urls.getCapabilities);\r\n    //         const capabilitiesXMLDoc =  new DOMParser().parseFromString(response.data, \"text/xml\");\r\n    //         this.parseCapabilitiesXML(capabilitiesXMLDoc, config.urls.getCapabilities);\r\n    //         this.openMap(this.context.mapToPreview.title);\r\n            \r\n    //     } catch (e) {\r\n    //         console.log('error when trying to call getCapabilities: ', e);\r\n    //     }\r\n    // }\r\n    \r\n    async openMap(title, is3d) {\r\n        const serverUrl = externalConfig.getConfiguration().MAPCORE_LAYER_SERVER_URL;        \r\n            if (serverUrl) {\r\n                try {\r\n                    const response = await axios.get(serverUrl + config.urls.getCapabilities);\r\n                    const capabilitiesXMLDoc =  new DOMParser().parseFromString(response.data, \"text/xml\");\r\n                    this.parseCapabilitiesXML(capabilitiesXMLDoc, config.urls.getCapabilities);\r\n                } catch (e) {\r\n                    console.log('error when trying to call getCapabilities: ', e);\r\n                }\r\n            } else {\r\n                this.parseLayersConfiguration(externalConfig.getConfiguration().streamingLayers)\r\n            }\r\n\r\n\r\n            this.state.mapLayerGroups.forEach( (value, key) => {\r\n                if (key === title) {\r\n                    \r\n                    this.setState({\r\n                            lastTerrainConfiguration: key,\r\n                            lastViewportConfiguration: is3d ? \"3D\":\"2D\"\r\n                    }, () => {\r\n                        if (this.device === null) {\r\n                            // create map device (MapCore initialization)\r\n                            let init = new window.MapCore.IMcMapDevice.SInitParams();\r\n                            init.uNumTerrainTileRenderTargets = 100;\r\n                        \r\n                            const device = window.MapCore.IMcMapDevice.Create(init);\r\n                            device.AddRef();\r\n                            this.device = device;\r\n                        \r\n                            // create callback classes\r\n                            this.createCallbackClasses();\r\n                        }        \r\n                        this.createMapLayersAndViewports();\r\n                    });\r\n                }\r\n            })                                \r\n    }\r\n\r\n    doDtmVisualization() {\r\n        if (!this.viewport.GetDtmVisualization())\r\n        {\r\n            let result = this.calcMinMaxHeights();\r\n            let DtmVisualization = new window.MapCore.IMcMapViewport.SDtmVisualizationParams();\r\n            window.MapCore.IMcMapViewport.SDtmVisualizationParams.SetDefaultHeightColors(DtmVisualization, result.minHeight, result.maxHeight);\r\n            DtmVisualization.bDtmVisualizationAboveRaster = true;\r\n            DtmVisualization.uHeightColorsTransparency = 120;\r\n            DtmVisualization.uShadingTransparency = 255;\r\n            this.viewport.SetDtmVisualization(true, DtmVisualization);\r\n        }\r\n        else\r\n        {\r\n            this.viewport.SetDtmVisualization(false);\r\n        }\r\n    }\r\n\r\n    // function closing active viewport\r\n    closeMap() {\r\n        if (this.activeViewport < 0) {\r\n            return;\r\n        }\r\n        // delete Edit Mode\r\n        this.editMode.Destroy();\r\n        // delete viewport\r\n        this.viewport.Release();\r\n        if (!this.bSameCanvas || this.aViewports.length == 1) {\r\n            // delete canvas\r\n            let currCanvas = this.aViewports[this.activeViewport].canvas;\r\n            currCanvas.removeEventListener(\"wheel\", this.mouseWheelHandler, false);\r\n            currCanvas.removeEventListener(\"mousemove\", this.mouseMoveHandler, false);\r\n            currCanvas.removeEventListener(\"mousedown\", this.mouseDownHandler, false);\r\n            currCanvas.removeEventListener(\"mouseup\", this.mouseUpHandler, false);\r\n            currCanvas.removeEventListener(\"dblclick\", this.mouseDblClickHandler, false);\r\n            let canvasParent = document.getElementById('canvasesContainer');\r\n            canvasParent.removeChild(this.aViewports[this.activeViewport].canvas);\r\n        }\r\n        // remove viewport from viewport data array\r\n        //this.activeViewport.viewport = this.activeViewport.viewport ? null :;\r\n        this.aViewports.splice(this.activeViewport, 1);\r\n        if (this.aViewports.length == 0) {\r\n            // no more viewports\r\n            this.viewport = null;\r\n            this.editMode = null;\r\n            this.activeViewport = -1;\r\n            // delete terrain\r\n            this.mapTerrains.forEach(terrain => { terrain.Release(); });\r\n            this.mapTerrains.clear();\r\n            // delete overlay manager\r\n            this.overlayManager.Release();\r\n            this.overlayManager = null;\r\n    \r\n        }\r\n        else {\r\n            // there are viewports: update active viewport\r\n            if (this.activeViewport >= this.aViewports.length) {\r\n                this.activeViewport = this.aViewports.length - 1;\r\n            }\r\n            this.updateActiveViewport();\r\n            this.resizeCanvases();\r\n        }\r\n\r\n\r\n        this.setState({\r\n            mapLayerGroups: new Map(),\r\n            lastTerrainConfiguration: null,\r\n            lastViewportConfiguration: null /*  2D/3D, 3D/2D, 2D, 3D */,\r\n            bSameCanvas: true\r\n        });\r\n    \r\n        this.mapTerrains = new Map;\r\n        this.device = null         \r\n        this.viewportData = null;\r\n        this.aLastTerrainLayers = [];\r\n        this.lastCoordSys = null;\r\n        this.overlayManager = null;\r\n        this.activeViewport = -1;\r\n        this.aViewports = [];\r\n        this.lastRenderTime = (new Date).getTime();\r\n        this.lastMemUsageLogTime = (new Date).getTime();\r\n        this.uMemUsageLoggingFrequency = 0;\r\n        this.nMousePrevX = 0;\r\n        this.nMousePrevY = 0;\r\n        this.mouseDownButtons = 0;\r\n        this.bEdit = false;\r\n\r\n    }\r\n\r\n    renderLoadingMessage() {\r\n        return (\r\n            <div className={cn.LoadingMessage}>\r\n                Map core SDK is Loading...\r\n            </div>\r\n        )\r\n    }\r\n    \r\n    renderRow(label, value) {\r\n        return (\r\n            <div className={cn.DescRow}>\r\n                <span className={cn.DescLabel}>{label}:</span>\r\n                <span className={cn.DescValue}>{value}</span>\r\n             </div>\r\n        )\r\n    }\r\n\r\n    onMoreActionsClick = (e) =>{\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        const menuItemsList = [{\r\n            name: \"Show DTM visualization\",\r\n            //func: this.props.start.bind(this, [this.props.name]),\r\n            iconCss: \"Run\"\r\n        },\r\n        {\r\n            name: \"Switch To 3D\",\r\n            //func: this.props.restart.bind(this, [this.props.name]),\r\n            iconCss: \"Restart\"\r\n        },\r\n        {\r\n            name: \"Select Other Map\",\r\n            //func: this.props.stop.bind(this, [this.props.name]),\r\n            iconCss: \"Stop\"\r\n        }\r\n    ];\r\n                \r\n        this.props.showContextMenu(e.nativeEvent.x, e.nativeEvent.y, menuItemsList);        \r\n    }\r\n\r\n    renderMapToolbox() {        \r\n        return (\r\n            <div className={`${cn.MapToolbox}`}>\r\n                <div className={cn.Description}>\r\n                    {externalConfig.getConfiguration().streamingLayers[0].groupName}\r\n                </div>\r\n                <span className={cn.MoreActionsBtn} onClick={this.onMoreActionsClick}></span>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    getCanvas() {\r\n        return (\r\n            <div className={cn.CanvasContainer} id='canvasesContainer'>\r\n                {this.renderMapToolbox()}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {    \r\n        return (\r\n            <div className={cn.Wrapper}>\r\n                {this.props.isMapCoreSDKLoaded ? this.getCanvas() : this.renderLoadingMessage()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isMapCoreSDKLoaded: state.map.isMapCoreSDKLoaded\r\n    };\r\n};\r\n\r\nconst mapDispachToProps = (dispatch) => {\r\n    return {\r\n        showContextMenu: (x, y, items) => dispatch({ type: actionTypes.SHOW_CONTEXT_MENU, payload: {x, y, items} }),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(MapContainer);","const config = {   \r\n    urls: {\r\n      getCapabilities: '/map/opr?service=wmts&request=GetCapabilities',\r\n      configuration: '/configuration.json',\r\n      stream: '/stream?topic=/d415/color/image_raw',\r\n      snapshot: '/snapshot?topic=/d415/color/image_raw',\r\n    }\r\n};\r\n\r\nexport const popupSize  = {\r\n  small: 'small',\r\n  medium: 'medium'\r\n};\r\n\r\nexport const logSeverities = {\r\n  success: 'success',\r\n  info: 'info',\r\n  warn: 'warn',\r\n  error: 'error'\r\n};\r\n\r\nexport default config;","export default __webpack_public_path__ + \"static/media/newLogo.990b2210.svg\";","import React, { PureComponent } from 'react';\r\nimport classNames from './LoaderAlt.module.css';\r\n\r\nexport default class Loader extends PureComponent {\r\n\r\n  renderOverlay() {\r\n    return this.props.withOverlay ? <div className={classNames.Overlay}></div> : null;\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        {this.renderOverlay()}\r\n        <div className={classNames.loader} data-message={this.props.loadingMessage}>\r\n          <div className={classNames.bg}></div>\r\n          <div className={classNames.circle}></div>\r\n          <div className={classNames.circle}></div>\r\n          <div className={classNames.circle}></div>\r\n          <div className={classNames.circle}></div>\r\n          <div className={classNames.circle}></div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}","import React, { PureComponent}  from 'react'\r\nimport classNames from './Clock.module.css';\r\n\r\nexport default class Clock extends PureComponent {\r\n    \r\n    state = {\r\n        date: new Date()\r\n    }\r\n\r\n    componentDidMount() {\r\n        setInterval(\r\n          () =>\r\n            this.setState({\r\n              date: new Date()\r\n            }),\r\n          1000\r\n        );    \r\n    }\r\n    \r\n    getFormatedData() {\r\n        const {date} = this.state;\r\n        const year = date.getFullYear();\r\n        const month = date.toLocaleString('en', { month: 'short' });        \r\n        let day = date.getDate();\r\n        day = day < 10 ? `0${day}` : day;\r\n        return `${month}. ${day} ${year},`;\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <span className={classNames.DateTime}>\r\n                {this.getFormatedData()}{`  `}\r\n                <span className={classNames.Hour}>{this.state.date.toLocaleTimeString(navigator.language,{hour12: false})}</span>\r\n            </span>\r\n        )\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/close.cafa525b.svg\";","import React, { PureComponent } from 'react';\r\nimport cn from './Popup.module.css';\r\nimport closeImg from '../../assets/images/close.svg';\r\n\r\n\r\nexport default class Popup extends PureComponent {\r\n    EscKey = 27;\r\n    componentDidMount() {\r\n        document.addEventListener('keydown', this.handleKeyDown);\r\n    }\r\n    \r\n    componentWillUnmount() {\r\n        document.removeEventListener('keydown', this.handleKeyDown);\r\n    }\r\n\r\n    handleKeyDown = (e) =>{\r\n        if (e.keyCode === this.EscKey && this.props.onCancel){\r\n            this.onCancelClicked(e);    \r\n        }\r\n    }\r\n\r\n    onOkClicked = (e) => {\r\n        e.preventDefault();\r\n        if (this.props.onOk) {\r\n            this.props.onOk();    \r\n        }\r\n    }\r\n\r\n    onCancelClicked = (e) => {\r\n        e.preventDefault();\r\n        if (this.props.onCancel) {\r\n            this.props.onCancel();    \r\n        }\r\n    }\r\n\r\n    getXBtn() {\r\n        return (\r\n            this.props.hideXButton ? null :\r\n                <a className={cn.Close} href=\"#\" onClick={this.onCancelClicked}>\r\n                    <img className={cn.closeBtn} src={closeImg}/>\r\n                </a> \r\n        );\r\n    }\r\n    getFooter() {\r\n        let okButton = null;\r\n        let cancelButton = null;\r\n        if (this.props.buttonOk) {\r\n            okButton = <button onClick={this.onOkClicked} className={`${cn.FormButton} ${cn.Apply}`}>{this.props.buttonOk}</button>;            \r\n        }\r\n        if (this.props.buttonCancel) {\r\n            cancelButton = <button onClick={this.onCancelClicked} className={`${cn.FormButton}`}>{this.props.buttonCancel}</button>;            \r\n        }\r\n\r\n        if (!okButton && !cancelButton) return null;\r\n        return (\r\n\r\n            <div className={cn.PopupFooter}>\r\n                <div>         \r\n                    {cancelButton}       \r\n                    {okButton}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    getHeader() {\r\n        return (\r\n            <div className={cn.PopupHeader}>\r\n                <div className={cn.PopupHeaderWrapper}>\r\n                    <h2 className={cn.h2}>{this.props.header}</h2>                                            \r\n                    {this.getXBtn()}                    \r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    getBody() {\r\n        const noBodyOverflowClass = this.props.noBodyOverflow ? cn.NoBodyOverFlow : '';\r\n\r\n        const body =  React.Children.count(this.props.children)  > 0 ?\r\n            (<div className={`${cn.PopupBody} ${noBodyOverflowClass}`}>\r\n                {this.props.children}\r\n            </div>) : null;\r\n        return body;\r\n    }\r\n\r\n    render() {\r\n        const size = this.props.size ? cn[this.props.size] : '';\r\n        return (this.props.children) ? \r\n                (\r\n                   <div className={cn.Overlay}>\r\n                       <div className={`${cn.Popup} ${size}`}>\r\n                           {this.getHeader()}\r\n                           {this.getBody()}\r\n                           {this.getFooter()}\r\n                       </div>\r\n                   </div>\r\n               ) : null;\r\n        \r\n    }\r\n}\r\n","import React, { Component } from 'react'\r\nimport cn from './OutputTabs.module.css'\r\n\r\nexport default class OutputTabs extends Component {\r\n    render() {\r\n        return (\r\n            <div className={cn.Wrapper}>\r\n                <div className={cn.Tabs}>output tabs...</div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","export function getBase64Image(img) {\r\n    \r\n    img.crossOrigin = \"anonymous\";\r\n    // Create an empty canvas element\r\n    var canvas = document.createElement(\"canvas\");\r\n    canvas.width = img.width;\r\n    canvas.height = img.height;\r\n\r\n    // Copy the image contents to the canvas\r\n    var ctx = canvas.getContext(\"2d\");\r\n    ctx.drawImage(img, 0, 0);\r\n\r\n    // Get the data-URL formatted image\r\n    // Firefox supports PNG and JPEG. You could check img.src to\r\n    // guess the original format, but be aware the using \"image/jpg\"\r\n    // will re-encode the image.\r\n    var dataURL = canvas.toDataURL(\"image/jpeg\");\r\n\r\n    return dataURL.replace(\"data:image/jpeg;base64,\", \"\")\r\n    \r\n    //var qq = ctx.getImageData(0, 0, img.width, img.height);\r\n    //var ww = btoa(String.fromCharCode.apply(null, new Uint8Array(qq))); \r\n    //return  ww;\r\n}","import config, { logSeverities } from './config';\r\nimport actionTypes from './store/actions/actionTypes';\r\nimport actions from './store/actions';\r\nimport externalConfig from './ExternalConfigurationHandler';\r\n\r\nclass RosWebSocket {\r\n\r\n    rosWebSocket = null;\r\n\r\n    async register(store) {\r\n        try {\r\n                        \r\n            const { ROS_BE_PROTOCOL, BE_IP, ROS_BE_PORT } = externalConfig.getConfiguration();\r\n            const url =  `${ROS_BE_PROTOCOL}://${BE_IP}:${ROS_BE_PORT}`;\r\n            store.dispatch({type: actionTypes.SHOW_GLOBAL_MESSAGE, payload: {text: `Trying to connect ros websocket on: ${url}`, type:logSeverities.info}})\r\n            store.dispatch(actions.showGlobalMessage({text: `Trying to connect ros websocket on: ${url}`, type:logSeverities.info}))\r\n\r\n            this.rosWebSocket = new window.ROSLIB.Ros({url});\r\n    \r\n            this.rosWebSocket.on('connection', () => {\r\n                store.dispatch(actions.showGlobalMessage({text: `Connected successfuly to ros websocket`, type:logSeverities.success, isRemoved: true}))                \r\n                store.dispatch({type: actionTypes.ROSS_WEBSOCKET_CONNECTION_SUCCESS});\r\n            });\r\n    \r\n            this.rosWebSocket.on('error', error => {                \r\n                store.dispatch(actions.showGlobalMessage({text: `Failed to connect ros websocket on: ${url}`, type:logSeverities.error}));\r\n                store.dispatch({type: actionTypes.ROSS_WEBSOCKET_CONNECTION_FAILED});\r\n                console.log(error);\r\n            });\r\n    \r\n            this.rosWebSocket.on('close', () => {\r\n                store.dispatch(actions.showGlobalMessage({text: `Connection to ros websocket on: ${url} closed`, type:logSeverities.error}))\r\n                store.dispatch({type: actionTypes.ROSS_WEBSOCKET_CONNECTION_CLOSED});\r\n            });\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    getRosWebsocketObject() {\r\n        return this.rosWebSocket;\r\n    }\r\n}\r\n\r\nexport default new RosWebSocket();\r\n\r\n\r\n\r\n","import rosWebSocket from '../rosWebsocket';\r\n\r\nexport const pointingFingerEncode = new window.ROSLIB.Service({\r\n    ros : rosWebSocket.getRosWebsocketObject(),\r\n    name : 'EncodeCompressed',\r\n    serviceType : 'pointingfinger/EncodeCompressed'\r\n});\r\n\r\nexport const pointingFingerLocate = new window.ROSLIB.Service({\r\n    ros : rosWebSocket.getRosWebsocketObject(),\r\n    name : 'LocateCompressed',\r\n    serviceType : 'pointingfinger/LocateCompressed'\r\n});\r\n\r\nexport const pointingFingerReset = new window.ROSLIB.Service({\r\n    ros : rosWebSocket.getRosWebsocketObject(),\r\n    name : 'Reset',\r\n    serviceType : 'pointingfinger/Reset'\r\n});\r\n\r\nexport const seekerReset = new window.ROSLIB.Service({\r\n    ros : rosWebSocket.getRosWebsocketObject(),\r\n    name : 'seeker/Reset',\r\n    serviceType : 'seeker/Reset'\r\n});\r\n\r\nexport const seekerTakeoff = new window.ROSLIB.Service({\r\n    ros : rosWebSocket.getRosWebsocketObject(),\r\n    name : 'seeker/Takeoff',\r\n    serviceType : 'seeker/Takeoff'\r\n});","import actionTypes from './actionTypes';\r\nimport {getBase64Image} from '../../utils/imageUtils';\r\nimport * as services from '../../services';\r\n\r\nexport const locate = () => {\r\n    return async (dispatch) => {        \r\n        dispatch({ type: actionTypes.LOACTE_START });\r\n\r\n        const img = document.getElementById('droneImage');\r\n        if (img) {\r\n            const dataX = getBase64Image(img);\r\n            const imageMessage = new window.ROSLIB.Message({data : dataX, format : \"jpeg\"});\r\n            const requestLocate = new window.ROSLIB.ServiceRequest({image : imageMessage});\r\n                        \r\n            services.pointingFingerLocate.callService(requestLocate, result => {\r\n                if (result.isSuccess) {\r\n                    dispatch({ type: actionTypes.LOACTE_SUCCESS });\r\n                } else {\r\n                    dispatch({ type: actionTypes.LOACTE_FAILED });        \r\n                }\r\n                console.log(services.pointingFingerLocate.name, result)\r\n            });\r\n        } else {\r\n            dispatch({ type: actionTypes.LOACTE_FAILED });\r\n        }\r\n    };\r\n};\r\n\r\nexport const pointVideoImage = ev => {\r\n    return async (dispatch) => {        \r\n        dispatch({ type: actionTypes.POINT_ON_VIDEO_IMAGE_START });\r\n\r\n        const img = document.getElementById('droneImage');\r\n\r\n        if (img) {\r\n            const dataX = getBase64Image(img);\r\n            const imageMessage = new window.ROSLIB.Message({data : dataX, format : \"jpeg\"});\r\n                        \r\n            const pointMessage = new window.ROSLIB.Message({\r\n                x : ev.pageX - img.offsetLeft,\r\n                y : ev.pageY - img.offsetTop,\r\n                z : 0.0\r\n            });\r\n    \r\n            const requestEncode = new window.ROSLIB.ServiceRequest({image : imageMessage, point : pointMessage });\r\n                \r\n            services.pointingFingerEncode.callService(requestEncode, result => {\r\n                \r\n                console.log(services.pointingFingerEncode.name, result);\r\n            });\r\n    \r\n            const requestLocate = new window.ROSLIB.ServiceRequest({image : imageMessage});\r\n    \r\n            services.pointingFingerLocate.callService(requestLocate, result => {\r\n                if (result.isSuccess) {\r\n                    dispatch({ type: actionTypes.POINT_ON_VIDEO_IMAGE_SUCCESS });\r\n                }\r\n                console.log(services.pointingFingerLocate.name, result);\r\n            });\r\n\r\n        } else {\r\n            dispatch({ type: actionTypes.POINT_ON_VIDEO_IMAGE_FAILED });\r\n        }\r\n    };\r\n};\r\n\r\nexport const reset = () => {\r\n    return async (dispatch) => {        \r\n        dispatch({ type: actionTypes.RESET_START });\r\n\r\n        const requestReset = new window.ROSLIB.ServiceRequest({});\r\n\r\n        services.pointingFingerReset.callService(requestReset, result => {\r\n            if (result.isSuccess) {\r\n                dispatch({ type: actionTypes.RESET_SUCCESS });\r\n            } else {\r\n                dispatch({ type: actionTypes.RESET_FAILED });\r\n            }\r\n            console.log(services.pointingFingerReset.name, result)\r\n        });\r\n\r\n        services.seekerReset.callService(requestReset, function(result) { \r\n            console.log('Result for service call on ' + services.seekerReset.name + ': ' + result.isSuccess);\r\n            console.log(services.seekerReset.name, result)\r\n        });\r\n\r\n    };\r\n};\r\n\r\nexport const takeoff = () => {\r\n    return async (dispatch) => {        \r\n        dispatch({ type: actionTypes.TAKE_OFF_START });\r\n\r\n        const requestTakeoff = new window.ROSLIB.ServiceRequest({});\r\n\r\n        services.seekerTakeoff.callService(requestTakeoff,  result => {\r\n            if (result.isSuccess) {\r\n                dispatch({ type: actionTypes.TAKE_OFF_SUCCESS });\r\n            } else {\r\n                dispatch({ type: actionTypes.TAKE_OFF_FAILED });\r\n            }\r\n            console.log(result)\r\n        });\r\n    };\r\n};\r\n","import actionTypes from './actionTypes';\r\n\r\n\r\n\r\nexport const showGlobalMessage = ({text, type, isRemoved}) => {\r\n    return (dispatch) => {\r\n        const payload = {\r\n            text,\r\n            type\r\n        }\r\n        dispatch({type: actionTypes.SHOW_GLOBAL_MESSAGE, payload});\r\n        if (isRemoved) {\r\n            setTimeout(() => dispatch({type: actionTypes.REMOVE_GLOBAL_MESSAGE}), 3000)\r\n        }\r\n    };\r\n};\r\n","import * as map from './mapActions';\r\nimport * as output from './outputActions';\r\nimport * as video from './videoActions';\r\nimport * as layout from './layoutActions';\r\n\r\nconst actionCreators = {\r\n    ...map,    \r\n    ...output,\r\n    ...video,\r\n    ...layout\r\n};\r\n\r\nexport default actionCreators;","import React, { Component } from 'react';\r\nimport cn from './Video.module.css';\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../store/actions';\r\nimport externalConfig from '../../ExternalConfigurationHandler';\r\nimport config from '../../config';\r\n\r\nclass Video extends Component {\r\n\r\n    state = {\r\n        isImageLoadingError: false\r\n    }\r\n\r\n    getVideoSrc() {\r\n        const {BE_PORT, BE_IP} = externalConfig.getConfiguration();\r\n\r\n        const snapshotUrl = `//${BE_IP}:${BE_PORT}${config.urls.snapshot}`;\r\n        const streamUrl = `//${BE_IP}:${BE_PORT}${config.urls.stream}`;\r\n\r\n        if (this.props.isPaused) {\r\n            return snapshotUrl;\r\n            //return `//camera.ehps.ncsu.edu:8100/c8`\r\n        } else {\r\n            return streamUrl;\r\n            //return `//camera.ehps.ncsu.edu:8100/c8`\r\n        }\r\n    }\r\n    \r\n    onVideoError = (e) => {        \r\n        console.log('error when trying to load camera video', e);\r\n        this.setState({\r\n            isImageLoadingError: true\r\n        })\r\n    }\r\n\r\n    renderImgElement() {\r\n\r\n        if (this.state.isImageLoadingError) {\r\n            return (\r\n                <div className={cn.ErrorMessage}><span className={cn.ErrorIcon}></span> Error loading video stream</div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <img\r\n                onError={this.onVideoError}\r\n                className={cn.VideoImage}\r\n                src={this.getVideoSrc()}\r\n                id='droneImage'\r\n                onClick={this.props.pointVideoImage}\r\n            />\r\n        )\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={cn.Wrapper}>\r\n                {this.renderImgElement()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isPaused: state.video.isPaused\r\n    };\r\n};\r\n\r\nconst mapDispachToProps = (dispatch) => {\r\n    return {\r\n        pointVideoImage: e => dispatch(actions.pointVideoImage(e))\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(Video);\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport cn from './ActionButtons.module.css'\r\nimport { connect } from 'react-redux';\r\nimport actions from '../../store/actions';\r\nimport actionTypes from '../../store/actions/actionTypes';\r\n\r\nclass ActionButtons extends Component {\r\n\r\n    pauseOrResume = () => {\r\n        this.props.isPaused ? this.props.resume() : this.props.pause()\r\n    }\r\n\r\n    getPauseIcon() {\r\n        return this.props.isPaused ? cn.PlayIcon : cn.PauseIcon\r\n    }\r\n\r\n    render() {\r\n        const isHiddenClass = this.props.isRosWebsocketConncted ? '' : cn.Hidden;\r\n        return (\r\n            <div className={`${cn.Wrapper} ${isHiddenClass}`}>\r\n                    <button className={cn.Button} onClick={this.props.locate}><span className={`${cn.Icon} ${cn.LocateIcon}`}></span></button>\r\n                    <button className={cn.Button} onClick={this.pauseOrResume}><span className={`${cn.Icon} ${this.getPauseIcon()}`}></span></button>\r\n                    <button className={cn.Button} onClick={this.props.reset}><span className={`${cn.Icon} ${cn.ResetIcon}`}></span></button>\r\n                    <button className={cn.Button} onClick={this.props.takeoff}><span className={`${cn.Icon} ${cn.TakeoffIcon}`}></span></button>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isPaused: state.video.isPaused,\r\n        isRosWebsocketConncted: state.layout.isRosWebsocketConncted\r\n    }\r\n};\r\n\r\nconst mapDispachToProps = dispatch => {\r\n    return {\r\n        locate: () => dispatch(actions.locate()),\r\n        pause: () => dispatch({type:actionTypes.PAUSE_VIDEO}),\r\n        resume: () => dispatch({type:actionTypes.RESUME_VIDEO}),\r\n        restart: () => dispatch(actions.restart()),\r\n        takeoff: () => dispatch(actions.takeoff()),\r\n    }\r\n}\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispachToProps\r\n)(ActionButtons)","export default __webpack_public_path__ + \"static/media/infoFull.77fd10dd.svg\";","export default __webpack_public_path__ + \"static/media/success.617ddc92.svg\";","export default __webpack_public_path__ + \"static/media/errorIcon.8ac257c2.svg\";","export default __webpack_public_path__ + \"static/media/warnIcon.a363b201.svg\";","import React,{ PureComponent } from 'react';\r\nimport classNames from './GlobalMessage.module.css';\r\nimport infoIcon from '../../assets/images/infoFull.svg';\r\nimport successIcon from '../../assets/images/success.svg';\r\nimport errorIcon from '../../assets/images/errorIcon.svg';\r\nimport warnIcon from '../../assets/images/warnIcon.svg';\r\nimport { connect } from 'react-redux';\r\nimport { logSeverities } from '../../config';\r\n\r\nclass GlobalMessage extends PureComponent {    \r\n    \r\n    renderIcon() {\r\n        let icon;\r\n        switch (this.props.appGlobalMessage.type) {\r\n            case logSeverities.info:\r\n                icon = infoIcon;\r\n                break;\r\n            case logSeverities.success:\r\n                icon = successIcon;\r\n                break;\r\n            case logSeverities.warn:\r\n                icon = warnIcon;\r\n                break;\r\n            case logSeverities.error:\r\n                icon = errorIcon;\r\n                break;        \r\n            default:\r\n                icon = infoIcon;\r\n                break;\r\n        }\r\n        return <img className={classNames.Icon} src={icon}></img>\r\n    }\r\n    renderText(text) {\r\n        return <div className={classNames.Text}>{text}</div>\r\n    }\r\n\r\n    renderNotification(notification) {\r\n        return (\r\n            <div className={classNames.Wrapper}>\r\n                {this.renderIcon()}\r\n                {this.renderText(notification.text)}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {      \r\n        const {appGlobalMessage} = this.props;\r\n        return appGlobalMessage && appGlobalMessage.text ? this.renderNotification(appGlobalMessage) : null\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        appGlobalMessage: state.layout.appGlobalMessage\r\n    };\r\n};\r\n\r\nconst mapDispachToProps = (dispatch) => {\r\n    return {\r\n        \r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispachToProps)(GlobalMessage);","import React, {Component} from 'react';\r\nimport classNames from './ContextMenu.module.css';\r\nimport { connect } from 'react-redux';\r\nimport actionTypes from '../../store/actions/actionTypes';\r\n\r\nclass ContextMenu extends Component {\r\n\r\n\r\n    CONTEXT_MENU_WIDTH = 150;        \r\n    contextRef = React.createRef();\r\n\r\n    state = {\r\n      top: 0,\r\n      left: 0,\r\n      menuItems: []\r\n    }\r\n\r\n    componentDidMount() {\r\n      document.addEventListener('mousedown', this.closeContextMenu); \r\n      this.updatePosition(this.props.contextMenu.x, this.props.contextMenu.y, this.props.contextMenu.items)     \r\n    }\r\n\r\n    componentWillUnmount() {\r\n        document.removeEventListener('mousedown', this.closeContextMenu);\r\n    }\r\n\r\n    getNewTop(top) {\r\n      const menuHight = 35 * this.props.contextMenu.items.length;\r\n      if (top +  menuHight / 2 > document.body.offsetHeight) {        \r\n        return top - menuHight;\r\n      }\r\n      return top;\r\n    }\r\n    \r\n   updatePosition( left ,top, menuItems) {     \r\n     this.setState({\r\n       top: this.getNewTop(top) ,\r\n       left : (left > document.body.offsetWidth - this.CONTEXT_MENU_WIDTH ) ? left - this.CONTEXT_MENU_WIDTH : left ,\r\n       menuItems\r\n     })\r\n   }\r\n\r\n   \r\n   closeContextMenu = (e) => {\r\n     if (this.contextRef && !this.contextRef.current.contains(e.target)) {\r\n        this.props.closeContextMenu();\r\n     }\r\n   }\r\n\r\n\r\n   onItemClick = (menuItem) => {     \r\n      menuItem.func(menuItem.task);\r\n      this.props.closeContextMenu();\r\n   }\r\n\r\n    render() {\r\n      const closeClass = ((this.state.menuItems != null) && (this.state.menuItems.length > 0))  ?  '' : classNames.Close;\r\n      let menuItems = \"\";\r\n\r\n      if (this.state.menuItems && this.state.menuItems.length > 0) {\r\n\r\n        menuItems = \r\n           this.state.menuItems.map((menuItem,index) => \r\n                                    <li key={index}\r\n                                        title={menuItem.title}\r\n                                        className={classNames.menuItem} \r\n                                        onClick={() => this.onItemClick(menuItem)}\r\n                                    >\r\n                                        <span className={`${classNames.ContextMenuIcon} ${classNames[menuItem.iconCss]}`}></span>\r\n                                        <div>{menuItem.name}</div>\r\n                                    </li>\r\n                         );\r\n      }\r\n\r\n      return(\r\n        <div style={{top: this.state.top , left: this.state.left}} className={`${classNames.contextMenu} ${closeClass}`} ref={this.contextRef}>\r\n          <ul  className={`${classNames.contextMenuUL} ${closeClass}`}>\r\n            {menuItems}\r\n          </ul>\r\n        </div>\r\n      )\r\n    }\r\n\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    \r\n  }\r\n};\r\n\r\nconst mapDispachToProps = dispatch => {\r\n  return {\r\n    closeContextMenu: () => dispatch({ type: actionTypes.CLOSE_CONTEXT_MENU}),\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispachToProps\r\n)(ContextMenu)\r\n\r\n   ","import React, { PureComponent, Component } from 'react';\nimport logo from '../src/assets/images/newLogo.svg';\nimport classNames from './App.module.css';\nimport Loader from './components/LoaderAlt/LoaderAlt';\nimport Clock from './components/Clock/Clock';\nimport Popup from './components/Popup/Popup';\nimport Error from './components/Error/Error';\nimport MapContainer from './components/MapContainer/MapContainer';\nimport OutputTabs from './components/OutputTabs/OutputTabs';\nimport Video from './components/Video/Video';\nimport ActionButtons from './components/ActionButtons/ActionButtons';\nimport GlobalMessage from './components/GlobalMessage/GlobalMessage';\nimport actionTypes from './store/actions/actionTypes';\nimport { connect } from 'react-redux';\nimport ContextMenu from './components/ContextMenu/ContextMenu';\n\nclass App extends Component {\n\n    componentDidMount() {\n        window.MapCore.SetStartCallbackFunction(this.props.setMapCoreSDKLoadedFlag);\n    }\n\n    closeErrorPopup = () => {\n        this.setState({\n            generalErrorMessage: false,\n        });\n    };\n\n    getGeneralErrorPopup() {\n        if (false) {\n            return (\n                <Popup\n                    buttonOk='OK'\n                    header={''}\n                    hideXButton\n                    onOk={this.closeErrorPopup}>\n                    <Error errorMsg={''} />\n                </Popup>\n            );\n        }\n        return null;\n    }\n\n    getClock() {\n        return <Clock />;\n    }\n\n    getMainHeader() {\n        return (\n            <header className={classNames.AppHeader}>\n                <img src={logo} alt='logo' />\n                <div className={classNames.RightHeader}>{this.getClock()}</div>\n            </header>\n        );\n    }\n\n    getMainLeftPane() {\n        return <MapContainer />;\n    }\n\n    getMainRightPane() {\n        return (\n            <div className={classNames.RightPaneWrapper}>\n                <div className={classNames.RightPaneWrapperItem}>\n                    <Video />\n                </div>\n                <div className={classNames.RightPaneWrapperItem}>\n                    <OutputTabs />\n                </div>\n            </div>\n        );\n    }\n\n    getMainContent() {\n        return (\n            <div className={classNames.MainContentWrapper}>\n                <div className={`${classNames.Split} ${classNames.Left}`}>\n                    {this.getMainLeftPane()}\n                </div>\n                <div className={`${classNames.Split} ${classNames.Right}`}>\n                    {this.getMainRightPane()}\n                </div>\n            </div>\n        );\n    }\n\n    getActionButtons() {\n        return <ActionButtons/>        \n    }\n\n    render() {\n        if (this.props.isLoading) {\n            return <Loader loadingMessage={'initializing...'} />;\n        }\n\n        return (\n            <div className={classNames.App}>\n                <GlobalMessage />\n                {this.props.contextMenu ? <ContextMenu contextMenu={this.props.contextMenu}/> : null}\n                {this.getActionButtons()}\n                {this.getGeneralErrorPopup()}\n                {this.getMainHeader()}\n                {this.getMainContent()}\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n      contextMenu: state.layout.contextMenu\n    }\n  };\n\nconst mapDispachToProps = (dispatch) => {\n    return {\n        setMapCoreSDKLoadedFlag: () => dispatch({type: actionTypes.SET_MAPCORE_SDK_LOADED_FLAG})\n    };\n};\n\nexport default connect(mapStateToProps, mapDispachToProps)(App);\n","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {    \r\n    isMapCoreSDKLoaded: false,\r\n};\r\n\r\nconst mapReducer = (state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case actionTypes.SET_MAPCORE_SDK_LOADED_FLAG:\r\n            return {\r\n                ...state,\r\n                isMapCoreSDKLoaded: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default mapReducer;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {        \r\n    isPaused: false\r\n};\r\n\r\nconst videoReducer = (state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case actionTypes.PAUSE_VIDEO:\r\n            return {\r\n                ...state,\r\n                isPaused: true\r\n            }\r\n        case actionTypes.RESUME_VIDEO:\r\n            return {\r\n                ...state,\r\n                isPaused: false\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default videoReducer;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {\r\n    \r\n};\r\n\r\nconst outputReducer = (state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case actionTypes.TOGGLE_SIDE_BAR: {\r\n            return {\r\n                ...state,\r\n                toasts: state.toasts.filter(t => !t.alwaysOnTop)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default outputReducer;","import actionTypes from '../actions/actionTypes';\r\n\r\nconst initialState = {        \r\n    appGlobalMessage: null,\r\n    isRosWebsocketConncted: false,\r\n    contextMenu: null,    //{x,y,menuItems}\r\n};\r\n\r\nconst layoutReducer = (state = initialState, action ) => {\r\n    switch (action.type) {\r\n        case actionTypes.SHOW_GLOBAL_MESSAGE:\r\n            return {\r\n                ...state,\r\n                appGlobalMessage: {text: action.payload.text, type: action.payload.type}\r\n            }       \r\n        case actionTypes.REMOVE_GLOBAL_MESSAGE:\r\n            return {\r\n                ...state,\r\n                appGlobalMessage: null\r\n            }       \r\n        case actionTypes.ROSS_WEBSOCKET_CONNECTION_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                isRosWebsocketConncted: true\r\n            }\r\n        }\r\n        case actionTypes.ROSS_WEBSOCKET_CONNECTION_FAILED: {\r\n            return {\r\n                ...state,\r\n                isRosWebsocketConncted: false\r\n            }\r\n        }\r\n        case actionTypes.ROSS_WEBSOCKET_CONNECTION_CLOSED: {\r\n            return {\r\n                ...state,\r\n                isRosWebsocketConncted: false\r\n            }\r\n        }\r\n        case actionTypes.SHOW_CONTEXT_MENU: {\r\n            const contextMenu = {   \r\n                x: action.payload.x, \r\n                y: action.payload.y, \r\n                items: action.payload.items\r\n            };\r\n            return {\r\n                ...state,\r\n                contextMenu\r\n            }   \r\n        }\r\n        case actionTypes.CLOSE_CONTEXT_MENU: {\r\n            return {\r\n                ...state,\r\n                contextMenu: null \r\n            }   \r\n        }        \r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default layoutReducer;","import {combineReducers} from 'redux';\r\n\r\nimport mapReducer from './mapReducer';\r\nimport videoReducer from './videoReducer';\r\nimport outputReducer from './outputReducer';\r\nimport layoutReducer from './layoutReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n\tmap: mapReducer,\r\n    output: outputReducer,\r\n    video: videoReducer,\r\n    layout: layoutReducer,\r\n});\r\n\r\nexport default rootReducer;\r\n","import axios from 'axios';\r\n\r\nconst initInterceptor = store => {\r\n\taxios.interceptors.response.use(\r\n\t\tresponse => response,\r\n\t\terr => {\r\n\t\t\tif (axios.isCancel(err)) return Promise.reject(err);\r\n\t\t\t\r\n\t\t\tlet errorMessage = (err.response && err.response.data && err.response.data.errMsg) || 'Unknown Error';\r\n\t\t\t// store.dispatch(logError(errorMessage));\r\n\t\t\t/*if (!err.response) {\r\n\t\t\t\tconst payload = {\r\n\t\t\t\t\ttitle: 'Connection Error',\r\n\t\t\t\t\tmessage: 'It looks like the server is down!'\r\n\t\t\t\t};\r\n\t\t\t\tstore.dispatch({type: actionTypes.SHOW_POPUP, payload});\r\n\t\t\t}*/\r\n\t\t\tconsole.error(errorMessage);\r\n\t\t\treturn Promise.reject(err);\r\n\t\t}\r\n\t);\r\n};\r\n\r\nexport default initInterceptor;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'typeface-roboto';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport reduxThunk from 'redux-thunk';\nimport rootReducer from './store/reducers';\nimport initInterceptor from './store/interceptor';\nimport rosWebsocketInstance from './rosWebsocket';\nimport externalConfig from './ExternalConfigurationHandler';\nimport Loader from './components/LoaderAlt/LoaderAlt';\nimport axios from 'axios';\nimport config from './config';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Loader loadingMessage={'initializing...'} />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\naxios.get(config.urls.configuration)\n      .then((res) => {\n        externalConfig.setConfiguration(res.data);\n        renderAplication();\n      })\n      .catch((e) => {\n        console.error('error when trying to retreive configuration.json', e);\n      });\n\nfunction renderAplication() {\n\n    const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n    const store = createStore(rootReducer, composeEnhancers(applyMiddleware(reduxThunk)));\n\n    initInterceptor(store);\n    rosWebsocketInstance.register(store);\n\n    ReactDOM.render(\n        <React.StrictMode>\n            <Provider store={store}>\n                <App />\n            </Provider>\n        </React.StrictMode>,\n        document.getElementById('root')\n    );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"ActionButtons_Wrapper__1mPEv\",\"Hidden\":\"ActionButtons_Hidden__1l-WC\",\"Button\":\"ActionButtons_Button__2CLMN\",\"Icon\":\"ActionButtons_Icon__1I2FB\",\"LocateIcon\":\"ActionButtons_LocateIcon__3VFcz\",\"PauseIcon\":\"ActionButtons_PauseIcon__f4FlW\",\"ResetIcon\":\"ActionButtons_ResetIcon__pS4kF\",\"TakeoffIcon\":\"ActionButtons_TakeoffIcon__3l9wl\",\"PlayIcon\":\"ActionButtons_PlayIcon__1HkND\"};"],"sourceRoot":""}